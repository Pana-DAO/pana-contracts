{
  "address": "0x8EE19fE0Da2c29bf864049b09997019781ab4Fe2",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "contract IPanaAuthority",
          "name": "_authority",
          "type": "address"
        },
        {
          "internalType": "contract IERC20",
          "name": "_pana",
          "type": "address"
        },
        {
          "internalType": "contract IKarsha",
          "name": "_karsha",
          "type": "address"
        },
        {
          "internalType": "contract IStaking",
          "name": "_staking",
          "type": "address"
        },
        {
          "internalType": "contract ITreasury",
          "name": "_treasury",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "contract IPanaAuthority",
          "name": "authority",
          "type": "address"
        }
      ],
      "name": "AuthorityUpdated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "price",
          "type": "uint256"
        }
      ],
      "name": "Bond",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        }
      ],
      "name": "CloseMarket",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "baseToken",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "quoteToken",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "initialPrice",
          "type": "uint256"
        }
      ],
      "name": "CreateMarket",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "oldControlVariable",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "newControlVariable",
          "type": "uint256"
        }
      ],
      "name": "Tuned",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "adjustments",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "change",
          "type": "uint256"
        },
        {
          "internalType": "uint48",
          "name": "lastAdjustment",
          "type": "uint48"
        },
        {
          "internalType": "uint48",
          "name": "timeToAdjusted",
          "type": "uint48"
        },
        {
          "internalType": "bool",
          "name": "active",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "authority",
      "outputs": [
        {
          "internalType": "contract IPanaAuthority",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_id",
          "type": "uint256"
        }
      ],
      "name": "close",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "contract IERC20",
          "name": "_quoteToken",
          "type": "address"
        },
        {
          "internalType": "uint256[3]",
          "name": "_market",
          "type": "uint256[3]"
        },
        {
          "internalType": "bool[4]",
          "name": "_booleans",
          "type": "bool[4]"
        },
        {
          "internalType": "uint256[2]",
          "name": "_terms",
          "type": "uint256[2]"
        },
        {
          "internalType": "uint32[2]",
          "name": "_intervals",
          "type": "uint32[2]"
        }
      ],
      "name": "create",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "id_",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_id",
          "type": "uint256"
        }
      ],
      "name": "currentControlVariable",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_id",
          "type": "uint256"
        }
      ],
      "name": "currentDebt",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "daoReward",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_id",
          "type": "uint256"
        }
      ],
      "name": "debtDecay",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_id",
          "type": "uint256"
        }
      ],
      "name": "debtRatio",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_id",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_amount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_maxPrice",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "_user",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_referral",
          "type": "address"
        }
      ],
      "name": "deposit",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "payout_",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "expiry_",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "index_",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_id",
          "type": "uint256"
        }
      ],
      "name": "getOraclePrice",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getReward",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_user",
          "type": "address"
        }
      ],
      "name": "indexesFor",
      "outputs": [
        {
          "internalType": "uint256[]",
          "name": "",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_id",
          "type": "uint256"
        }
      ],
      "name": "isLive",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "liveMarkets",
      "outputs": [
        {
          "internalType": "uint256[]",
          "name": "",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_token",
          "type": "address"
        }
      ],
      "name": "liveMarketsFor",
      "outputs": [
        {
          "internalType": "uint256[]",
          "name": "",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_id",
          "type": "uint256"
        }
      ],
      "name": "marketPrice",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "markets",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "capacity",
          "type": "uint256"
        },
        {
          "internalType": "contract IERC20",
          "name": "quoteToken",
          "type": "address"
        },
        {
          "internalType": "bool",
          "name": "capacityInQuote",
          "type": "bool"
        },
        {
          "internalType": "bool",
          "name": "quoteTokenIsReserve",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "totalDebt",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "maxPayout",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "sold",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "purchased",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "marketsForQuote",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "metadata",
      "outputs": [
        {
          "internalType": "uint48",
          "name": "lastTune",
          "type": "uint48"
        },
        {
          "internalType": "uint48",
          "name": "lastDecay",
          "type": "uint48"
        },
        {
          "internalType": "uint48",
          "name": "length",
          "type": "uint48"
        },
        {
          "internalType": "uint48",
          "name": "depositInterval",
          "type": "uint48"
        },
        {
          "internalType": "uint48",
          "name": "tuneInterval",
          "type": "uint48"
        },
        {
          "internalType": "uint8",
          "name": "quoteDecimals",
          "type": "uint8"
        },
        {
          "internalType": "bool",
          "name": "quoteIsLPToken",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "notes",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "payout",
          "type": "uint256"
        },
        {
          "internalType": "uint48",
          "name": "created",
          "type": "uint48"
        },
        {
          "internalType": "uint48",
          "name": "matured",
          "type": "uint48"
        },
        {
          "internalType": "uint48",
          "name": "redeemed",
          "type": "uint48"
        },
        {
          "internalType": "uint48",
          "name": "marketID",
          "type": "uint48"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_amount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_id",
          "type": "uint256"
        }
      ],
      "name": "payoutFor",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_user",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_index",
          "type": "uint256"
        }
      ],
      "name": "pendingFor",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "payout_",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "matured_",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "priceOracle",
      "outputs": [
        {
          "internalType": "contract IPriceOracle",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_from",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_index",
          "type": "uint256"
        }
      ],
      "name": "pullNote",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "newIndex_",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_to",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_index",
          "type": "uint256"
        }
      ],
      "name": "pushNote",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_user",
          "type": "address"
        },
        {
          "internalType": "uint256[]",
          "name": "_indexes",
          "type": "uint256[]"
        }
      ],
      "name": "redeem",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "payout_",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_user",
          "type": "address"
        }
      ],
      "name": "redeemAll",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "refReward",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "rewards",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "contract IPanaAuthority",
          "name": "_newAuthority",
          "type": "address"
        }
      ],
      "name": "setAuthority",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "contract IPriceOracle",
          "name": "_priceOracle",
          "type": "address"
        }
      ],
      "name": "setPriceOracle",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_toFrontEnd",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_toDAO",
          "type": "uint256"
        }
      ],
      "name": "setRewards",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "terms",
      "outputs": [
        {
          "internalType": "bool",
          "name": "fixedTerm",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "controlVariable",
          "type": "uint256"
        },
        {
          "internalType": "uint48",
          "name": "vesting",
          "type": "uint48"
        },
        {
          "internalType": "uint48",
          "name": "conclusion",
          "type": "uint48"
        },
        {
          "internalType": "uint256",
          "name": "maxDebt",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "updateTreasury",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_operator",
          "type": "address"
        }
      ],
      "name": "whitelist",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "whitelisted",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "transactionHash": "0x3c73548e0efec6e79d180797d9956d7d6aacd3431e2bf263b7f8132ea7850bea",
  "receipt": {
    "to": null,
    "from": "0x2d494Cb0a923009C471B9512571048560a44556A",
    "contractAddress": "0x8EE19fE0Da2c29bf864049b09997019781ab4Fe2",
    "transactionIndex": 2,
    "gasUsed": "4340980",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000004000000000000000000200000000000000000000000000000000000000000000000000000000000000000000140000000080000000000000400000000000000000000000000000000000000000000000010000000000000000000000008000000000000000010000000000000020000000000020000000000000000000000000000000000000080000000000000000004000000000000100200000000000000000000000000000000000000000010000000000000000008000010001000000010000000000000000000000000",
    "blockHash": "0x887625416b6ecc095e6a8184c286c3634accc39a5e5e2b6a7caae1e0c1dde06e",
    "transactionHash": "0x3c73548e0efec6e79d180797d9956d7d6aacd3431e2bf263b7f8132ea7850bea",
    "logs": [
      {
        "transactionIndex": 2,
        "blockNumber": 6917284,
        "transactionHash": "0x3c73548e0efec6e79d180797d9956d7d6aacd3431e2bf263b7f8132ea7850bea",
        "address": "0x8EE19fE0Da2c29bf864049b09997019781ab4Fe2",
        "topics": [
          "0x2f658b440c35314f52658ea8a740e05b284cdc84dc9ae01e891f21b8933e7cad",
          "0x000000000000000000000000496f1c34b517aea2a1afca60f83df1b346e3b274"
        ],
        "data": "0x",
        "logIndex": 1,
        "blockHash": "0x887625416b6ecc095e6a8184c286c3634accc39a5e5e2b6a7caae1e0c1dde06e"
      },
      {
        "transactionIndex": 2,
        "blockNumber": 6917284,
        "transactionHash": "0x3c73548e0efec6e79d180797d9956d7d6aacd3431e2bf263b7f8132ea7850bea",
        "address": "0x17382e3636f8a5c590Ef07Ee6Ef82fc9Ea93e10F",
        "topics": [
          "0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925",
          "0x0000000000000000000000008ee19fe0da2c29bf864049b09997019781ab4fe2",
          "0x0000000000000000000000001709af1e73225e1a8bac94d921d03449b9e331c6"
        ],
        "data": "0x000000000000000000000000002cd76fe086b93ce2f768a00b22a00000000000",
        "logIndex": 2,
        "blockHash": "0x887625416b6ecc095e6a8184c286c3634accc39a5e5e2b6a7caae1e0c1dde06e"
      }
    ],
    "blockNumber": 6917284,
    "cumulativeGasUsed": "4413470",
    "status": 1,
    "byzantium": true
  },
  "args": [
    "0x496f1c34b517aEA2a1aFca60F83df1B346e3b274",
    "0x17382e3636f8a5c590Ef07Ee6Ef82fc9Ea93e10F",
    "0xb6C21fEE405647416fF42fF104d4FB4156b02415",
    "0x1709AF1e73225E1a8BaC94D921d03449B9e331C6",
    "0xe75c7C6C1491B91887FB4b72C4F42b0cD6B6eeBC"
  ],
  "solcInputHash": "77dd4a31559746813e3615af0775ea75",
  "metadata": "{\"compiler\":{\"version\":\"0.8.10+commit.fc410830\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"contract IPanaAuthority\",\"name\":\"_authority\",\"type\":\"address\"},{\"internalType\":\"contract IERC20\",\"name\":\"_pana\",\"type\":\"address\"},{\"internalType\":\"contract IKarsha\",\"name\":\"_karsha\",\"type\":\"address\"},{\"internalType\":\"contract IStaking\",\"name\":\"_staking\",\"type\":\"address\"},{\"internalType\":\"contract ITreasury\",\"name\":\"_treasury\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"contract IPanaAuthority\",\"name\":\"authority\",\"type\":\"address\"}],\"name\":\"AuthorityUpdated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"id\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"price\",\"type\":\"uint256\"}],\"name\":\"Bond\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"id\",\"type\":\"uint256\"}],\"name\":\"CloseMarket\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"id\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"baseToken\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"quoteToken\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"initialPrice\",\"type\":\"uint256\"}],\"name\":\"CreateMarket\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"id\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"oldControlVariable\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"newControlVariable\",\"type\":\"uint256\"}],\"name\":\"Tuned\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"adjustments\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"change\",\"type\":\"uint256\"},{\"internalType\":\"uint48\",\"name\":\"lastAdjustment\",\"type\":\"uint48\"},{\"internalType\":\"uint48\",\"name\":\"timeToAdjusted\",\"type\":\"uint48\"},{\"internalType\":\"bool\",\"name\":\"active\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"authority\",\"outputs\":[{\"internalType\":\"contract IPanaAuthority\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_id\",\"type\":\"uint256\"}],\"name\":\"close\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"contract IERC20\",\"name\":\"_quoteToken\",\"type\":\"address\"},{\"internalType\":\"uint256[3]\",\"name\":\"_market\",\"type\":\"uint256[3]\"},{\"internalType\":\"bool[4]\",\"name\":\"_booleans\",\"type\":\"bool[4]\"},{\"internalType\":\"uint256[2]\",\"name\":\"_terms\",\"type\":\"uint256[2]\"},{\"internalType\":\"uint32[2]\",\"name\":\"_intervals\",\"type\":\"uint32[2]\"}],\"name\":\"create\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"id_\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_id\",\"type\":\"uint256\"}],\"name\":\"currentControlVariable\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_id\",\"type\":\"uint256\"}],\"name\":\"currentDebt\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"daoReward\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_id\",\"type\":\"uint256\"}],\"name\":\"debtDecay\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_id\",\"type\":\"uint256\"}],\"name\":\"debtRatio\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_id\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_amount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_maxPrice\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_referral\",\"type\":\"address\"}],\"name\":\"deposit\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"payout_\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"expiry_\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"index_\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_id\",\"type\":\"uint256\"}],\"name\":\"getOraclePrice\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getReward\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"indexesFor\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_id\",\"type\":\"uint256\"}],\"name\":\"isLive\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"liveMarkets\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_token\",\"type\":\"address\"}],\"name\":\"liveMarketsFor\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_id\",\"type\":\"uint256\"}],\"name\":\"marketPrice\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"markets\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"capacity\",\"type\":\"uint256\"},{\"internalType\":\"contract IERC20\",\"name\":\"quoteToken\",\"type\":\"address\"},{\"internalType\":\"bool\",\"name\":\"capacityInQuote\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"quoteTokenIsReserve\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"totalDebt\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"maxPayout\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"sold\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"purchased\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"marketsForQuote\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"metadata\",\"outputs\":[{\"internalType\":\"uint48\",\"name\":\"lastTune\",\"type\":\"uint48\"},{\"internalType\":\"uint48\",\"name\":\"lastDecay\",\"type\":\"uint48\"},{\"internalType\":\"uint48\",\"name\":\"length\",\"type\":\"uint48\"},{\"internalType\":\"uint48\",\"name\":\"depositInterval\",\"type\":\"uint48\"},{\"internalType\":\"uint48\",\"name\":\"tuneInterval\",\"type\":\"uint48\"},{\"internalType\":\"uint8\",\"name\":\"quoteDecimals\",\"type\":\"uint8\"},{\"internalType\":\"bool\",\"name\":\"quoteIsLPToken\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"notes\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"payout\",\"type\":\"uint256\"},{\"internalType\":\"uint48\",\"name\":\"created\",\"type\":\"uint48\"},{\"internalType\":\"uint48\",\"name\":\"matured\",\"type\":\"uint48\"},{\"internalType\":\"uint48\",\"name\":\"redeemed\",\"type\":\"uint48\"},{\"internalType\":\"uint48\",\"name\":\"marketID\",\"type\":\"uint48\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_amount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_id\",\"type\":\"uint256\"}],\"name\":\"payoutFor\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_index\",\"type\":\"uint256\"}],\"name\":\"pendingFor\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"payout_\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"matured_\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"priceOracle\",\"outputs\":[{\"internalType\":\"contract IPriceOracle\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_from\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_index\",\"type\":\"uint256\"}],\"name\":\"pullNote\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"newIndex_\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_index\",\"type\":\"uint256\"}],\"name\":\"pushNote\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"},{\"internalType\":\"uint256[]\",\"name\":\"_indexes\",\"type\":\"uint256[]\"}],\"name\":\"redeem\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"payout_\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"redeemAll\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"refReward\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"rewards\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"contract IPanaAuthority\",\"name\":\"_newAuthority\",\"type\":\"address\"}],\"name\":\"setAuthority\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"contract IPriceOracle\",\"name\":\"_priceOracle\",\"type\":\"address\"}],\"name\":\"setPriceOracle\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_toFrontEnd\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_toDAO\",\"type\":\"uint256\"}],\"name\":\"setRewards\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"terms\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"fixedTerm\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"controlVariable\",\"type\":\"uint256\"},{\"internalType\":\"uint48\",\"name\":\"vesting\",\"type\":\"uint48\"},{\"internalType\":\"uint48\",\"name\":\"conclusion\",\"type\":\"uint48\"},{\"internalType\":\"uint256\",\"name\":\"maxDebt\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"updateTreasury\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_operator\",\"type\":\"address\"}],\"name\":\"whitelist\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"whitelisted\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{\"close(uint256)\":{\"params\":{\"_id\":\"ID of market to close\"}},\"create(address,uint256[3],bool[4],uint256[2],uint32[2])\":{\"details\":\"current price should be in 18 decimals.\",\"params\":{\"_booleans\":\"[capacity in quote, quote is reserve, quote is LP, fixed term]\",\"_intervals\":\"[deposit interval (seconds), tune interval (seconds)]\",\"_market\":\"[capacity (in PANA or quote), initial price / PANA (18 decimals), debt buffer (3 decimals)]\",\"_quoteToken\":\"token used to deposit\",\"_terms\":\"[vesting length (if fixed term) or vested timestamp, conclusion timestamp]\"},\"returns\":{\"id_\":\"        ID of new bond market\"}},\"currentControlVariable(uint256)\":{\"details\":\"accounts for control variable adjustment\",\"params\":{\"_id\":\"ID of market\"},\"returns\":{\"_0\":\"control variable for market in PANA decimals\"}},\"currentDebt(uint256)\":{\"details\":\"accounts for debt decay since last deposit\",\"params\":{\"_id\":\"ID of market\"},\"returns\":{\"_0\":\"current debt for market in PANA decimals\"}},\"debtDecay(uint256)\":{\"params\":{\"_id\":\"ID of market\"},\"returns\":{\"_0\":\"amount of debt to decay\"}},\"debtRatio(uint256)\":{\"details\":\"uses current debt, which accounts for debt decay since last deposit (vs _debtRatio())\",\"params\":{\"_id\":\"ID of market\"},\"returns\":{\"_0\":\"debt ratio for market in quote decimals\"}},\"deposit(uint256,uint256,uint256,address,address)\":{\"params\":{\"_amount\":\"the amount of quote token to spend\",\"_id\":\"the ID of the market\",\"_maxPrice\":\"the maximum price at which to buy\",\"_referral\":\"the front end operator address\",\"_user\":\"the recipient of the payout\"},\"returns\":{\"expiry_\":\"    the timestamp at which payout is redeemable\",\"index_\":\"     the user index of the Note (used to redeem or query information)\",\"payout_\":\"    the amount of KARSHA due\"}},\"getOraclePrice(uint256)\":{\"params\":{\"_id\":\"ID of market\"},\"returns\":{\"_0\":\"oracle price for market in PANA decimals\"}},\"indexesFor(address)\":{\"params\":{\"_user\":\"the user to query notes for\"},\"returns\":{\"_0\":\"the pending notes for the user\"}},\"isLive(uint256)\":{\"params\":{\"_id\":\"ID of market\"}},\"liveMarketsFor(address)\":{\"params\":{\"_token\":\"quote token to check for\"}},\"marketPrice(uint256)\":{\"details\":\"accounts for debt and control variable decay since last deposit (vs _marketPrice())\",\"params\":{\"_id\":\"ID of market\"},\"returns\":{\"_0\":\"price for market in PANA decimals price is derived from the equation p = cv * dr where p = price cv = control variable dr = debt ratio dr = d / s  where d = debt s = supply of token at market creation d -= ( d * (dt / l) )  where dt = change in time l = length of program\"}},\"payoutFor(uint256,uint256)\":{\"details\":\"accounts for debt and control variable decay so it is up to date1e36 = PANA decimals (18) + market price decimals (18)\",\"params\":{\"_amount\":\"amount of quote tokens to spend\",\"_id\":\"ID of market\"},\"returns\":{\"_0\":\"amount of PANA to be paid in PANA decimals\"}},\"pendingFor(address,uint256)\":{\"params\":{\"_index\":\"the index of the note in the user's array\",\"_user\":\"the user that the note belongs to\"},\"returns\":{\"matured_\":\"   if the payout can be redeemed\",\"payout_\":\"    the payout due, in Karsha\"}},\"pullNote(address,uint256)\":{\"params\":{\"_from\":\"the address that approved the note transfer\",\"_index\":\"the index of the note to transfer (in the sender's array)\"}},\"pushNote(address,uint256)\":{\"params\":{\"_index\":\"index of note to approve transfer for\",\"_to\":\"address to approve note transfer for\"}},\"redeem(address,uint256[])\":{\"params\":{\"_indexes\":\"the note indexes to redeem\",\"_user\":\"the user to redeem for\"},\"returns\":{\"payout_\":\"    sum of payout sent, in Karsha\"}},\"redeemAll(address)\":{\"details\":\"if possible, query indexesFor() off-chain and input in redeem() to save gas\",\"params\":{\"_user\":\"user to redeem all notes for\"},\"returns\":{\"_0\":\"sum of payout sent, in Karsha\"}}},\"title\":\"Pana Bond Depository\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"close(uint256)\":{\"notice\":\"disable existing market\"},\"create(address,uint256[3],bool[4],uint256[2],uint32[2])\":{\"notice\":\"creates a new market type\"},\"currentControlVariable(uint256)\":{\"notice\":\"up to date control variable\"},\"currentDebt(uint256)\":{\"notice\":\"calculate debt factoring in decay\"},\"debtDecay(uint256)\":{\"notice\":\"amount of debt to decay from total debt for market ID\"},\"debtRatio(uint256)\":{\"notice\":\"calculate current ratio of debt to supply\"},\"deposit(uint256,uint256,uint256,address,address)\":{\"notice\":\"deposit quote tokens in exchange for a bond from a specified market\"},\"getOraclePrice(uint256)\":{\"notice\":\"gets token price in quote tokens from oracle\"},\"indexesFor(address)\":{\"notice\":\"all pending notes for user\"},\"isLive(uint256)\":{\"notice\":\"is a given market accepting deposits\"},\"liveMarkets()\":{\"notice\":\"returns an array of all active market IDs\"},\"liveMarketsFor(address)\":{\"notice\":\"returns an array of all active market IDs for a given quote token\"},\"marketPrice(uint256)\":{\"notice\":\"calculate current market price of quote token in base token\"},\"payoutFor(uint256,uint256)\":{\"notice\":\"payout due for amount of quote tokens\"},\"pendingFor(address,uint256)\":{\"notice\":\"calculate amount available for claim for a single note\"},\"pullNote(address,uint256)\":{\"notice\":\"transfer a note that has been approved by an address\"},\"pushNote(address,uint256)\":{\"notice\":\"approve an address to transfer a note\"},\"redeem(address,uint256[])\":{\"notice\":\"redeem notes for user\"},\"redeemAll(address)\":{\"notice\":\"redeem all redeemable markets for user\"},\"setPriceOracle(address)\":{\"notice\":\"sets price oracle for bond depository\"},\"setRewards(uint256,uint256)\":{\"notice\":\"set rewards for front end operators and DAO\"},\"whitelist(address)\":{\"notice\":\"add or remove addresses from the reward whitelist\"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/bond/BondDepository.sol\":\"PanaBondDepository\"},\"evmVersion\":\"london\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"none\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":800},\"remappings\":[]},\"sources\":{\"contracts/access/PanaAccessControlled.sol\":{\"content\":\"// SPDX-License-Identifier: AGPL-3.0-only\\npragma solidity >=0.7.5;\\n\\nimport \\\"../interfaces/IPanaAuthority.sol\\\";\\n\\nabstract contract PanaAccessControlled {\\n\\n    /* ========== EVENTS ========== */\\n\\n    event AuthorityUpdated(IPanaAuthority indexed authority);\\n\\n    string UNAUTHORIZED = \\\"UNAUTHORIZED\\\"; // save gas\\n\\n    /* ========== STATE VARIABLES ========== */\\n\\n    IPanaAuthority public authority;\\n\\n\\n    /* ========== Constructor ========== */\\n\\n    constructor(IPanaAuthority _authority) {\\n        authority = _authority;\\n        emit AuthorityUpdated(_authority);\\n    }\\n    \\n\\n    /* ========== MODIFIERS ========== */\\n    \\n    modifier onlyGovernor() {\\n        require(msg.sender == authority.governor(), UNAUTHORIZED);\\n        _;\\n    }\\n    \\n    modifier onlyGuardian() {\\n        require(msg.sender == authority.guardian(), UNAUTHORIZED);\\n        _;\\n    }\\n    \\n    modifier onlyPolicy() {\\n        require(msg.sender == authority.policy(), UNAUTHORIZED);\\n        _;\\n    }\\n\\n    modifier onlyVault() {\\n        require(msg.sender == authority.vault(), UNAUTHORIZED);\\n        _;\\n    }\\n    \\n    /* ========== GOV ONLY ========== */\\n    \\n    function setAuthority(IPanaAuthority _newAuthority) external onlyGovernor {\\n        authority = _newAuthority;\\n        emit AuthorityUpdated(_newAuthority);\\n    }\\n}\\n\",\"keccak256\":\"0x034e5499a57b5a80ba7315a07b54a800876e4e9143ec38855118dc2ff0af9311\",\"license\":\"AGPL-3.0-only\"},\"contracts/bond/BondDepository.sol\":{\"content\":\"// SPDX-License-Identifier: AGPL-3.0\\npragma solidity ^0.8.10;\\n\\nimport \\\"../bond/NoteKeeper.sol\\\";\\n\\nimport \\\"../libraries/SafeERC20.sol\\\";\\n\\nimport \\\"../interfaces/IStaking.sol\\\";\\nimport \\\"../interfaces/ITreasury.sol\\\";\\nimport \\\"../interfaces/IERC20Metadata.sol\\\";\\nimport \\\"../interfaces/IBondDepository.sol\\\";\\nimport \\\"../interfaces/IPriceOracle.sol\\\";\\n\\nimport \\\"../interfaces/IUniswapV2ERC20.sol\\\";\\nimport \\\"../interfaces/IUniswapV2Pair.sol\\\";\\n\\n/// @title Pana Bond Depository\\n\\ncontract PanaBondDepository is IBondDepository, NoteKeeper {\\n/* ======== DEPENDENCIES ======== */\\n\\n  using SafeERC20 for IERC20;\\n\\n/* ======== EVENTS ======== */\\n\\n  event CreateMarket(uint256 indexed id, address indexed baseToken, address indexed quoteToken, uint256 initialPrice);\\n  event CloseMarket(uint256 indexed id);\\n  event Bond(uint256 indexed id, uint256 amount, uint256 price);\\n  event Tuned(uint256 indexed id, uint256 oldControlVariable, uint256 newControlVariable);\\n\\n/* ======== STATE VARIABLES ======== */\\n\\n  IPriceOracle public priceOracle;\\n\\n  // Storage\\n  Market[] public markets; // persistent market data\\n  Terms[] public terms; // deposit construction data\\n  Metadata[] public metadata; // extraneous market data\\n  mapping(uint256 => Adjustment) public adjustments; // control variable changes\\n\\n  // Queries\\n  mapping(address => uint256[]) public marketsForQuote; // market IDs for quote token\\n\\n/* ======== CONSTRUCTOR ======== */\\n\\n  constructor(\\n    IPanaAuthority _authority,\\n    IERC20 _pana,\\n    IKarsha _karsha,\\n    IStaking _staking,\\n    ITreasury _treasury\\n  ) NoteKeeper(_authority, _pana, _karsha, _staking, _treasury) {\\n    // save gas for users by bulk approving stake() transactions\\n    _pana.approve(address(_staking), 1e45);\\n  }\\n\\n  /**\\n   * @notice             sets price oracle for bond depository\\n   */\\n  function setPriceOracle(IPriceOracle _priceOracle) external onlyGovernor {\\n      priceOracle = _priceOracle;\\n  }\\n\\n/* ======== DEPOSIT ======== */\\n\\n  /**\\n   * @notice             deposit quote tokens in exchange for a bond from a specified market\\n   * @param _id          the ID of the market\\n   * @param _amount      the amount of quote token to spend\\n   * @param _maxPrice    the maximum price at which to buy\\n   * @param _user        the recipient of the payout\\n   * @param _referral    the front end operator address\\n   * @return payout_     the amount of KARSHA due\\n   * @return expiry_     the timestamp at which payout is redeemable\\n   * @return index_      the user index of the Note (used to redeem or query information)\\n   */\\n  function deposit(\\n    uint256 _id,\\n    uint256 _amount,\\n    uint256 _maxPrice,\\n    address _user,\\n    address _referral\\n  ) external override returns (\\n    uint256 payout_, \\n    uint256 expiry_,\\n    uint256 index_\\n  ) {\\n    Market storage market = markets[_id];\\n    Terms memory term = terms[_id];\\n    uint48 currentTime = uint48(block.timestamp);\\n\\n    // Markets end at a defined timestamp\\n    // |-------------------------------------| t\\n    require(currentTime < term.conclusion, \\\"Depository: market concluded\\\");\\n\\n    // Debt and the control variable decay over time\\n    _decay(_id, currentTime);\\n\\n    // Users input a maximum price, which protects them from price changes after\\n    // entering the mempool. max price is a slippage mitigation measure\\n    { // add block scoping to avoid stack too deep\\n    uint256 price = _marketPrice(_id);\\n\\n    require(price <= _maxPrice, \\\"Depository: more than max price\\\"); \\n\\n    /**\\n     * payout for the deposit = amount / price\\n     *\\n     * where\\n     * payout = PANA out\\n     * amount = quote tokens in\\n     * price = quote tokens : PANA \\n     *\\n     * 1e36 = PANA decimals (18) + price decimals (18)\\n     */\\n    payout_ = (_amount * 1e36 / price) / (10 ** metadata[_id].quoteDecimals);\\n\\n    // markets have a max payout amount, capping size because deposits\\n    // do not experience slippage. max payout is recalculated upon tuning\\n    require(payout_ <= market.maxPayout, \\\"Depository: max size exceeded\\\");\\n    \\n    /*\\n     * each market is initialized with a capacity\\n     *\\n     * this is either the number of PANA that the market can sell\\n     * (if capacity in quote is false), \\n     *\\n     * or the number of quote tokens that the market can buy\\n     * (if capacity in quote is true)\\n     */\\n    market.capacity -= market.capacityInQuote\\n      ? _amount\\n      : payout_;\\n\\n    /**\\n     * bonds mature with a cliff at a set timestamp\\n     * prior to the expiry timestamp, no payout tokens are accessible to the user\\n     * after the expiry timestamp, the entire payout can be redeemed\\n     *\\n     * there are two types of bonds: fixed-term and fixed-expiration\\n     *\\n     * fixed-term bonds mature in a set amount of time from deposit\\n     * i.e. term = 1 week. when alice deposits on day 1, her bond\\n     * expires on day 8. when bob deposits on day 2, his bond expires day 9.\\n     *\\n     * fixed-expiration bonds mature at a set timestamp\\n     * i.e. expiration = day 10. when alice deposits on day 1, her term\\n     * is 9 days. when bob deposits on day 2, his term is 8 days.\\n     */\\n    expiry_ = term.fixedTerm\\n      ? term.vesting + currentTime\\n      : term.vesting;\\n\\n    // markets keep track of how many quote tokens have been\\n    // purchased, and how much PANA has been sold\\n    market.purchased += _amount;\\n    market.sold += uint256(payout_);\\n\\n    // incrementing total debt raises the price of the next bond\\n    market.totalDebt += uint256(payout_);\\n\\n    emit Bond(_id, _amount, price);\\n    }\\n\\n    // send quote token to treasury, mint PANA, and stake the payout\\n    _sendToTreasury(_id, _amount, payout_, _referral);\\n\\n    /**\\n     * user data is stored as Notes. these are isolated array entries\\n     * storing the amount due, the time created, the time when payout\\n     * is redeemable, the time when payout was redeemed, and the ID\\n     * of the market deposited into\\n     */\\n    index_ = addNote(\\n      _user,\\n      payout_,\\n      uint48(expiry_),\\n      uint48(_id)\\n    );\\n\\n    // if max debt is breached, the market is closed \\n    // this a circuit breaker\\n    if (term.maxDebt < market.totalDebt) {\\n        market.capacity = 0;\\n        emit CloseMarket(_id);\\n    } else {\\n      // if market will continue, the control variable is tuned to hit targets on time\\n      _tune(_id, currentTime);\\n    }\\n  }\\n\\n  /**\\n    * @notice             sends funds to treasury and mints correct amount of PANA for payout\\n    * @param _id          the ID of the market\\n    * @param _amount      the amount of quote token being sent\\n    * @param _payout      the amount of PANA to be paid to depositor\\n    */\\n  function _sendToTreasury(uint256 _id, uint256 _amount, uint256 _payout, address _referral) internal {\\n      /**\\n        * payment is transferred to the treasury and PANA is minted for \\n        * the user payout. if the quoteToken is a reserve asset or LP\\n        * token, then it should be deposited to the treasury. if not,\\n        * it should be transferred.\\n        */\\n      Market memory market = markets[_id];\\n\\n      if (market.quoteTokenIsReserve) {\\n          // transfer payment from user to this contract\\n          market.quoteToken.safeTransferFrom(msg.sender, address(this), _amount);\\n\\n          // get tokenValue from treasury to calculate profit for deposit\\n          uint256 value = treasury.tokenValue(address(market.quoteToken), _amount);\\n\\n          // add rewards for DAO and referral and return total reward amount\\n          uint256 _reward = 0;\\n          if (value > _payout) {\\n            _reward = giveRewards(_payout, _referral, value - _payout);\\n          }\\n\\n          // calculate amount to mint\\n          uint256 toMint = _payout + _reward;\\n\\n          // calculate profit\\n          uint256 profit = 0;\\n          if (value > toMint) {\\n            profit = value - toMint;\\n          }\\n          \\n          // deposit the payment to the treasury\\n          treasury.deposit(_amount, address(market.quoteToken), profit);\\n      } else {\\n          // transfer payment from user to treasury directly\\n          market.quoteToken.safeTransferFrom(msg.sender, address(treasury), _amount);\\n          \\n          // add rewards for DAO and referral and return total reward amount\\n          uint256 _reward = giveRewards(_payout, _referral, type(uint256).max);\\n\\n          // mint PANA for payout and reward\\n          treasury.mint(address(this), _payout + _reward);\\n      }    \\n\\n      // stake the payout while vesting\\n      staking.stake(address(this), _payout);\\n  }\\n\\n\\n  /**\\n   * @notice             decay debt, and adjust control variable if there is an active change\\n   * @param _id          ID of market\\n   * @param _time        uint48 timestamp (saves gas when passed in)\\n   */\\n  function _decay(uint256 _id, uint48 _time) internal {\\n\\n    // Debt decay\\n\\n    /*\\n     * Debt is a time-decayed sum of tokens spent in a market\\n     * Debt is added when deposits occur and removed over time\\n     * |\\n     * |    debt falls with\\n     * |   / \\\\  inactivity       / \\\\\\n     * | /     \\\\              /\\\\/    \\\\\\n     * |         \\\\           /         \\\\\\n     * |           \\\\      /\\\\/            \\\\\\n     * |             \\\\  /  and rises       \\\\\\n     * |                with deposits\\n     * |\\n     * |------------------------------------| t\\n     */\\n    markets[_id].totalDebt -= debtDecay(_id);\\n    metadata[_id].lastDecay = _time;\\n\\n\\n    // Control variable decay\\n\\n    // The bond control variable is continually tuned. When it is lowered (which\\n    // lowers the market price), the change is carried out smoothly over time.\\n    if (adjustments[_id].active) {\\n      Adjustment storage adjustment = adjustments[_id];\\n\\n      (uint256 adjustBy, uint48 secondsSince, bool stillActive) = _controlDecay(_id);\\n      terms[_id].controlVariable -= adjustBy;\\n\\n      if (stillActive) {\\n        adjustment.change -= adjustBy;\\n        adjustment.timeToAdjusted -= secondsSince;\\n        adjustment.lastAdjustment = _time;\\n      } else {\\n        adjustment.active = false;\\n      }\\n    }\\n  }\\n\\n  /**\\n   * @notice             auto-adjust control variable to hit capacity/spend target\\n   * @param _id          ID of market\\n   * @param _time        uint48 timestamp (saves gas when passed in)\\n   */\\n  function _tune(uint256 _id, uint48 _time) internal {\\n    Metadata memory meta = metadata[_id];\\n\\n    if (_time >= meta.lastTune + meta.tuneInterval) {\\n      Market memory market = markets[_id];\\n      \\n      // compute seconds remaining until market will conclude\\n      uint256 timeRemaining = terms[_id].conclusion - _time;\\n      uint256 price = _marketPrice(_id);\\n\\n      // standardize capacity into an base token amount\\n      // PANA decimals (18) + price decimals (18)\\n      uint256 capacity = market.capacityInQuote\\n        ? (market.capacity * 1e36 / price) / (10 ** meta.quoteDecimals)\\n        : market.capacity;\\n\\n      /**\\n       * calculate the correct payout to complete on time assuming each bond\\n       * will be max size in the desired deposit interval for the remaining time\\n       *\\n       * i.e. market has 10 days remaining. deposit interval is 1 day. capacity\\n       * is 10,000 PANA. max payout would be 1,000 PANA (10,000 * 1 / 10).\\n       */  \\n      markets[_id].maxPayout = uint256(capacity * meta.depositInterval / timeRemaining);\\n\\n      // calculate the ideal total debt to satisfy capacity in the remaining time\\n      uint256 targetDebt = capacity * meta.length / timeRemaining;\\n\\n      // derive a new control variable from the target debt and current supply\\n      uint256 newControlVariable = uint256(price * treasury.baseSupply() / targetDebt);\\n\\n      emit Tuned(_id, terms[_id].controlVariable, newControlVariable);\\n\\n      if (newControlVariable >= terms[_id].controlVariable) {\\n        terms[_id].controlVariable = newControlVariable;\\n      } else {\\n        // if decrease, control variable change will be carried out over the tune interval\\n        // this is because price will be lowered\\n        uint256 change = terms[_id].controlVariable - newControlVariable;\\n        adjustments[_id] = Adjustment(change, _time, meta.tuneInterval, true);\\n      }\\n      metadata[_id].lastTune = _time;\\n    }\\n  }\\n\\n/* ======== CREATE ======== */\\n\\n  /**\\n   * @notice             creates a new market type\\n   * @dev                current price should be in 18 decimals.\\n   * @param _quoteToken  token used to deposit\\n   * @param _market      [capacity (in PANA or quote), initial price / PANA (18 decimals), debt buffer (3 decimals)]\\n   * @param _booleans    [capacity in quote, quote is reserve, quote is LP, fixed term]\\n   * @param _terms       [vesting length (if fixed term) or vested timestamp, conclusion timestamp]\\n   * @param _intervals   [deposit interval (seconds), tune interval (seconds)]\\n   * @return id_         ID of new bond market\\n   */\\n  function create(\\n    IERC20 _quoteToken,\\n    uint256[3] memory _market,\\n    bool[4] memory _booleans,\\n    uint256[2] memory _terms,\\n    uint32[2] memory _intervals\\n  ) external override onlyPolicy returns (uint256 id_) {\\n\\n    // the length of the program, in seconds\\n    uint256 secondsToConclusion = _terms[1] - block.timestamp;\\n\\n    // the decimal count of the quote token\\n    uint256 decimals = IERC20Metadata(address(_quoteToken)).decimals();\\n\\n    /* \\n     * initial target debt is equal to capacity (this is the amount of debt\\n     * that will decay over in the length of the program if price remains the same).\\n     * it is converted into base token terms if passed in in quote token terms.\\n     *\\n     * 1e36 = PANA decimals (18) + initial price decimals (18)\\n     */\\n    uint256 targetDebt = uint256(_booleans[0] ?\\n    (_market[0] * 1e36 / _market[1]) / 10 ** decimals \\n    : _market[0]\\n    );\\n\\n    /*\\n     * max payout is the amount of capacity that should be utilized in a deposit\\n     * interval. for example, if capacity is 1,000 PANA, there are 10 days to conclusion, \\n     * and the preferred deposit interval is 1 day, max payout would be 100 PANA.\\n     */\\n    uint256 maxPayout = uint256(targetDebt * _intervals[0] / secondsToConclusion);\\n\\n    /*\\n     * max debt serves as a circuit breaker for the market. let's say the quote\\n     * token is a stablecoin, and that stablecoin depegs. without max debt, the\\n     * market would continue to buy until it runs out of capacity. this is\\n     * configurable with a 3 decimal buffer (1000 = 1% above initial price).\\n     * note that its likely advisable to keep this buffer wide.\\n     * note that the buffer is above 100%. i.e. 10% buffer = initial debt * 1.1\\n     */\\n    uint256 maxDebt = targetDebt + (targetDebt * _market[2] / 1e5); // 1e5 = 100,000. 10,000 / 100,000 = 10%.\\n\\n    /*\\n     * the control variable is set so that initial price equals the desired\\n     * initial price. the control variable is the ultimate determinant of price,\\n     * so we compute this last.\\n     *\\n     * price = control variable * debt ratio\\n     * debt ratio = total debt / supply\\n     * therefore, control variable = price / debt ratio\\n     */\\n    uint256 controlVariable = _market[1] * treasury.baseSupply() / targetDebt;\\n\\n    // depositing into, or getting info for, the created market uses this ID\\n    id_ = markets.length;\\n\\n    markets.push(Market({\\n      quoteToken: _quoteToken, \\n      quoteTokenIsReserve: _booleans[1],\\n      capacityInQuote: _booleans[0],\\n      capacity: _market[0],\\n      totalDebt: targetDebt, \\n      maxPayout: maxPayout,\\n      purchased: 0,\\n      sold: 0\\n    }));\\n\\n    terms.push(Terms({\\n      fixedTerm: _booleans[3], \\n      controlVariable: uint256(controlVariable),\\n      vesting: uint48(_terms[0]), \\n      conclusion: uint48(_terms[1]), \\n      maxDebt: uint256(maxDebt) \\n    }));\\n\\n    metadata.push(Metadata({\\n      lastTune: uint48(block.timestamp),\\n      lastDecay: uint48(block.timestamp),\\n      length: uint48(secondsToConclusion),\\n      depositInterval: _intervals[0],\\n      tuneInterval: _intervals[1],\\n      quoteDecimals: uint8(decimals),\\n      quoteIsLPToken: _booleans[2]\\n    }));\\n\\n    marketsForQuote[address(_quoteToken)].push(id_);\\n\\n    // Approve the treasury for quoteToken if quoteTokenIsReserve\\n    if (_booleans[1]) _quoteToken.approve(address(treasury), type(uint256).max);\\n\\n    emit CreateMarket(id_, address(pana), address(_quoteToken), _market[1]);\\n  }\\n\\n  /**\\n   * @notice             disable existing market\\n   * @param _id          ID of market to close\\n   */\\n  function close(uint256 _id) external override onlyPolicy {\\n    terms[_id].conclusion = uint48(block.timestamp);\\n    markets[_id].capacity = 0;\\n    emit CloseMarket(_id);\\n  }\\n\\n  /**\\n   * @notice             gets token price in quote tokens from oracle\\n   * @param _id          ID of market\\n   * @return             oracle price for market in PANA decimals\\n   */\\n  function getOraclePrice(uint256 _id) public view returns (uint256) {\\n    Market memory market = markets[_id];\\n    Metadata memory meta = metadata[_id];\\n\\n    if (meta.quoteIsLPToken) {\\n      /**\\n       * to find a price of 1 LP token, we need:\\n       * - call oracle to get the price of other token in Pana\\n       * - calculate LP total reserves in Pana\\n       * - divide LP total supply by total reserves \\n       */\\n\\n      IUniswapV2Pair pair = IUniswapV2Pair(address(market.quoteToken));\\n\\n      address token = pair.token0();\\n      address token1 = pair.token1();\\n      (uint256 reserve0, uint256 reserve1, ) = IUniswapV2Pair(pair).getReserves();\\n      \\n      if (token == address(pana) || token == address(karsha)) {\\n        (token, token1) = (token1, token);\\n        (reserve0, reserve1) = (reserve1, reserve0);\\n      }\\n      else {\\n        require(token1 == address(pana) || token1 == address(karsha), \\\"Invalid pair\\\");\\n      }\\n\\n      uint256 tokenDecimals = IERC20Metadata(token).decimals();\\n\\n      // X Pana/Karsha per 1 token\\n      // Passing amount = 10**18 to the consult function\\n      // works only for pairing of Pana with other 18 decimal tokens.\\n      // In case of pairing with different decimal tokens relevant\\n      // adjustments need to be made.\\n      uint256 tokenPrice = priceOracle.consult(token, 10**18, token1);\\n\\n      // total reserves calculated in Pana/Karsha\\n      uint256 totalReserves = reserve1 + reserve0 * tokenPrice / (10 ** tokenDecimals);\\n\\n      // price of 1 pana/Karsha in LP token\\n      uint256 oraclePrice = pair.totalSupply() * 1e18 / totalReserves;\\n\\n      if (token1 == address(karsha)) {\\n        //adjust karsha price to pana per current index\\n        oraclePrice = oraclePrice / staking.index();\\n      }\\n\\n      return oraclePrice;\\n    }\\n    else {\\n      // Passing amount = 10**18 to the consult function\\n      // works only for pairing of Pana with other 18 decimal tokens.\\n      // In case of pairing with different decimal tokens relevant\\n      // adjustments need to be made.\\n      return priceOracle.consult(address(pana), 10**18, address(market.quoteToken)); \\n    }\\n  }\\n\\n/* ======== EXTERNAL VIEW ======== */\\n\\n  /**\\n   * @notice             calculate current market price of quote token in base token\\n   * @dev                accounts for debt and control variable decay since last deposit (vs _marketPrice())\\n   * @param _id          ID of market\\n   * @return             price for market in PANA decimals\\n   *\\n   * price is derived from the equation\\n   *\\n   * p = cv * dr\\n   *\\n   * where\\n   * p = price\\n   * cv = control variable\\n   * dr = debt ratio\\n   *\\n   * dr = d / s\\n   * \\n   * where\\n   * d = debt\\n   * s = supply of token at market creation\\n   *\\n   * d -= ( d * (dt / l) )\\n   * \\n   * where\\n   * dt = change in time\\n   * l = length of program\\n   */\\n  function marketPrice(uint256 _id) public view override returns (uint256) {\\n    return \\n      currentControlVariable(_id)\\n      * debtRatio(_id)\\n      / (10 ** metadata[_id].quoteDecimals);\\n  }\\n\\n  /**\\n   * @notice             payout due for amount of quote tokens\\n   * @dev                accounts for debt and control variable decay so it is up to date\\n   * @param _amount      amount of quote tokens to spend\\n   * @param _id          ID of market\\n   * @return             amount of PANA to be paid in PANA decimals\\n   *\\n   * @dev 1e36 = PANA decimals (18) + market price decimals (18)\\n   */\\n  function payoutFor(uint256 _amount, uint256 _id) external view override returns (uint256) {\\n    Metadata memory meta = metadata[_id];\\n    return \\n      _amount\\n      * 1e36\\n      / marketPrice(_id)\\n      / 10 ** meta.quoteDecimals;\\n  }\\n\\n  /**\\n   * @notice             calculate current ratio of debt to supply\\n   * @dev                uses current debt, which accounts for debt decay since last deposit (vs _debtRatio())\\n   * @param _id          ID of market\\n   * @return             debt ratio for market in quote decimals\\n   */\\n  function debtRatio(uint256 _id) public view override returns (uint256) {\\n    return \\n      currentDebt(_id)\\n      * (10 ** metadata[_id].quoteDecimals)\\n      / treasury.baseSupply(); \\n  }\\n\\n  /**\\n   * @notice             calculate debt factoring in decay\\n   * @dev                accounts for debt decay since last deposit\\n   * @param _id          ID of market\\n   * @return             current debt for market in PANA decimals\\n   */\\n  function currentDebt(uint256 _id) public view override returns (uint256) {\\n    return markets[_id].totalDebt - debtDecay(_id);\\n  }\\n\\n  /**\\n   * @notice             amount of debt to decay from total debt for market ID\\n   * @param _id          ID of market\\n   * @return             amount of debt to decay\\n   */\\n  function debtDecay(uint256 _id) public view override returns (uint256) {\\n    Metadata memory meta = metadata[_id];\\n\\n    uint256 secondsSince = block.timestamp - meta.lastDecay;\\n\\n    return uint256(markets[_id].totalDebt * secondsSince / meta.length);\\n  }\\n\\n  /**\\n   * @notice             up to date control variable\\n   * @dev                accounts for control variable adjustment\\n   * @param _id          ID of market\\n   * @return             control variable for market in PANA decimals\\n   */\\n  function currentControlVariable(uint256 _id) public view returns (uint256) {\\n    (uint256 decay,,) = _controlDecay(_id);\\n    return terms[_id].controlVariable - decay;\\n  }\\n\\n  /**\\n   * @notice             is a given market accepting deposits\\n   * @param _id          ID of market\\n   */\\n  function isLive(uint256 _id) public view override returns (bool) {\\n    return (markets[_id].capacity != 0 && terms[_id].conclusion > block.timestamp);\\n  }\\n\\n  /**\\n   * @notice returns an array of all active market IDs\\n   */\\n  function liveMarkets() external view override returns (uint256[] memory) {\\n    uint256 num;\\n    for (uint256 i = 0; i < markets.length; i++) {\\n      if (isLive(i)) num++;\\n    }\\n\\n    uint256[] memory ids = new uint256[](num);\\n    uint256 nonce;\\n    for (uint256 i = 0; i < markets.length; i++) {\\n      if (isLive(i)) {\\n        ids[nonce] = i;\\n        nonce++;\\n      }\\n    }\\n    return ids;\\n  }\\n\\n  /**\\n   * @notice             returns an array of all active market IDs for a given quote token\\n   * @param _token       quote token to check for\\n   */\\n  function liveMarketsFor(address _token) external view override returns (uint256[] memory) {\\n    uint256[] memory mkts = marketsForQuote[_token];\\n    uint256 num;\\n\\n    for (uint256 i = 0; i < mkts.length; i++) {\\n      if (isLive(mkts[i])) num++;\\n    }\\n\\n    uint256[] memory ids = new uint256[](num);\\n    uint256 nonce;\\n\\n    for (uint256 i = 0; i < mkts.length; i++) {\\n      if (isLive(mkts[i])) {\\n        ids[nonce] = mkts[i];\\n        nonce++;\\n      }\\n    }\\n    return ids;\\n  }\\n\\n/* ======== INTERNAL VIEW ======== */\\n\\n  /**\\n   * @notice                  calculate current market price of quote token in base token\\n   * @dev                     see marketPrice() for explanation of price computation\\n   * @dev                     uses info from storage because data has been updated before call (vs marketPrice())\\n   * @param _id               market ID\\n   * @return                  price for market in PANA decimals\\n   */ \\n  function _marketPrice(uint256 _id) internal view returns (uint256) {\\n    uint256 price =  terms[_id].controlVariable \\n      * _debtRatio(_id) \\n      / (10 ** metadata[_id].quoteDecimals);\\n\\n    // check oracle price and select minimum\\n    if (address(priceOracle) != address(0)) {\\n      uint256 oraclePrice = getOraclePrice(_id);\\n      if (oraclePrice < price) {\\n        price = oraclePrice;\\n      }\\n    }\\n\\n    // limit market price floor at token basic valuation level\\n    uint256 basePrice = 10 ** (metadata[_id].quoteDecimals + 18)\\n      / treasury.tokenValue(address(markets[_id].quoteToken), 10 ** metadata[_id].quoteDecimals);\\n\\n    if (price < basePrice) {\\n      price = basePrice;\\n    }\\n\\n    return price;  \\n  }\\n  \\n  /**\\n   * @notice                  calculate debt factoring in decay\\n   * @dev                     uses info from storage because data has been updated before call (vs debtRatio())\\n   * @param _id               market ID\\n   * @return                  current debt for market in quote decimals\\n   */ \\n  function _debtRatio(uint256 _id) internal view returns (uint256) {\\n    return \\n      markets[_id].totalDebt\\n      * (10 ** metadata[_id].quoteDecimals)\\n      / treasury.baseSupply(); \\n  }\\n\\n  /**\\n   * @notice                  amount to decay control variable by\\n   * @param _id               ID of market\\n   * @return decay_           change in control variable\\n   * @return secondsSince_    seconds since last change in control variable\\n   * @return active_          whether or not change remains active\\n   */ \\n  function _controlDecay(uint256 _id) internal view returns (uint256 decay_, uint48 secondsSince_, bool active_) {\\n    Adjustment memory info = adjustments[_id];\\n    if (!info.active) return (0, 0, false);\\n\\n    secondsSince_ = uint48(block.timestamp) - info.lastAdjustment;\\n\\n    active_ = secondsSince_ < info.timeToAdjusted;\\n    decay_ = active_ \\n      ? info.change * secondsSince_ / info.timeToAdjusted\\n      : info.change;\\n  }\\n}\",\"keccak256\":\"0x5c2cf64b4405007347ac47f31ceae24c3e1f821dd2a2d5611c60cf7869fd6db4\",\"license\":\"AGPL-3.0\"},\"contracts/bond/NoteKeeper.sol\":{\"content\":\"// SPDX-License-Identifier: AGPL-3.0-only\\npragma solidity ^0.8.10;\\n\\nimport \\\"../treasury/FrontEndRewarder.sol\\\";\\n\\nimport \\\"../interfaces/IKarsha.sol\\\";\\nimport \\\"../interfaces/IStaking.sol\\\";\\nimport \\\"../interfaces/ITreasury.sol\\\";\\nimport \\\"../interfaces/INoteKeeper.sol\\\";\\n\\nabstract contract NoteKeeper is INoteKeeper, FrontEndRewarder {\\n\\n  mapping(address => Note[]) public notes; // user deposit data\\n  mapping(address => mapping(uint256 => address)) private noteTransfers; // change note ownership\\n\\n  IKarsha internal immutable karsha;\\n  IStaking internal immutable staking;\\n  ITreasury internal treasury;\\n\\n  constructor (\\n    IPanaAuthority _authority,\\n    IERC20 _pana,\\n    IKarsha _karsha,\\n    IStaking _staking,\\n    ITreasury _treasury\\n  ) FrontEndRewarder(_authority, _pana) {\\n    karsha = _karsha;\\n    staking = _staking;\\n    treasury = _treasury;\\n  }\\n\\n  // if treasury address changes on authority, update it\\n  function updateTreasury() external {\\n    require(\\n      msg.sender == authority.governor() ||\\n      msg.sender == authority.guardian() ||\\n      msg.sender == authority.policy(),\\n      \\\"Only authorized\\\"\\n    );\\n    treasury = ITreasury(authority.vault());\\n  }\\n\\n/* ========== ADD ========== */\\n\\n  /**\\n   * @notice             adds a new Note for a user, stores the front end & DAO rewards, and mints & stakes payout & rewards\\n   * @param _user        the user that owns the Note\\n   * @param _payout      the amount of Pana due to the user\\n   * @param _expiry      the timestamp when the Note is redeemable\\n   * @param _marketID    the ID of the market deposited into\\n   * @return index_      the index of the Note in the user's array\\n   */\\n  function addNote(\\n    address _user, \\n    uint256 _payout, \\n    uint48 _expiry, \\n    uint48 _marketID\\n  ) internal returns (uint256 index_) {\\n    // the index of the note is the next in the user's array\\n    index_ = notes[_user].length;\\n\\n    // the new note is pushed to the user's array\\n    notes[_user].push(\\n      Note({\\n        payout: karsha.balanceTo(_payout),\\n        created: uint48(block.timestamp),\\n        matured: _expiry,\\n        redeemed: 0,\\n        marketID: _marketID\\n      })\\n    );\\n  }\\n\\n/* ========== REDEEM ========== */\\n\\n  /**\\n   * @notice             redeem notes for user\\n   * @param _user        the user to redeem for\\n   * @param _indexes     the note indexes to redeem\\n   * @return payout_     sum of payout sent, in Karsha\\n   */\\n  function redeem(address _user, uint256[] memory _indexes) public override returns (uint256 payout_) {\\n    uint48 time = uint48(block.timestamp);\\n\\n    for (uint256 i = 0; i < _indexes.length; i++) {\\n      (uint256 pay, bool matured) = pendingFor(_user, _indexes[i]);\\n\\n      if (matured) {\\n        notes[_user][_indexes[i]].redeemed = time; // mark as redeemed\\n        payout_ += pay;\\n      }\\n    }\\n\\n    karsha.transfer(_user, payout_); // send payout as Karsha\\n  }\\n\\n  /**\\n   * @notice             redeem all redeemable markets for user\\n   * @dev                if possible, query indexesFor() off-chain and input in redeem() to save gas\\n   * @param _user        user to redeem all notes for\\n   * @return             sum of payout sent, in Karsha\\n   */ \\n  function redeemAll(address _user) external override returns (uint256) {\\n    return redeem(_user, indexesFor(_user));\\n  }\\n\\n/* ========== TRANSFER ========== */\\n\\n  /**\\n   * @notice             approve an address to transfer a note\\n   * @param _to          address to approve note transfer for\\n   * @param _index       index of note to approve transfer for\\n   */ \\n  function pushNote(address _to, uint256 _index) external override {\\n    require(notes[msg.sender][_index].created != 0, \\\"Depository: note not found\\\");\\n    noteTransfers[msg.sender][_index] = _to;\\n  }\\n\\n  /**\\n   * @notice             transfer a note that has been approved by an address\\n   * @param _from        the address that approved the note transfer\\n   * @param _index       the index of the note to transfer (in the sender's array)\\n   */ \\n  function pullNote(address _from, uint256 _index) external override returns (uint256 newIndex_) {\\n    require(noteTransfers[_from][_index] == msg.sender, \\\"Depository: transfer not found\\\");\\n    require(notes[_from][_index].redeemed == 0, \\\"Depository: note redeemed\\\");\\n\\n    newIndex_ = notes[msg.sender].length;\\n    notes[msg.sender].push(notes[_from][_index]);\\n\\n    delete notes[_from][_index];\\n  }\\n\\n/* ========== VIEW ========== */\\n\\n  // Note info\\n\\n  /**\\n   * @notice             all pending notes for user\\n   * @param _user        the user to query notes for\\n   * @return             the pending notes for the user\\n   */\\n  function indexesFor(address _user) public view override returns (uint256[] memory) {\\n    Note[] memory info = notes[_user];\\n\\n    uint256 length;\\n    for (uint256 i = 0; i < info.length; i++) {\\n        if (info[i].redeemed == 0 && info[i].payout != 0) length++;\\n    }\\n\\n    uint256[] memory indexes = new uint256[](length);\\n    uint256 position;\\n\\n    for (uint256 i = 0; i < info.length; i++) {\\n        if (info[i].redeemed == 0 && info[i].payout != 0) {\\n            indexes[position] = i;\\n            position++;\\n        }\\n    }\\n\\n    return indexes;\\n  }\\n\\n  /**\\n   * @notice             calculate amount available for claim for a single note\\n   * @param _user        the user that the note belongs to\\n   * @param _index       the index of the note in the user's array\\n   * @return payout_     the payout due, in Karsha\\n   * @return matured_    if the payout can be redeemed\\n   */\\n  function pendingFor(address _user, uint256 _index) public view override returns (uint256 payout_, bool matured_) {\\n    Note memory note = notes[_user][_index];\\n    payout_ = note.payout;\\n    matured_ = note.redeemed == 0 && note.matured <= block.timestamp && note.payout != 0;\\n  }\\n}\\n\",\"keccak256\":\"0x4401959a9d04feb41692aa3f6d56a0e25896df6037b2d93779b191b6bfb89208\",\"license\":\"AGPL-3.0-only\"},\"contracts/interfaces/IBondDepository.sol\":{\"content\":\"// SPDX-License-Identifier: AGPL-3.0\\npragma solidity >=0.7.5;\\n\\nimport \\\"./IERC20.sol\\\";\\n\\ninterface IBondDepository {\\n\\n  // Info about each type of market\\n  struct Market {\\n    uint256 capacity; // capacity remaining\\n    IERC20 quoteToken; // token to accept as payment\\n    bool capacityInQuote; // capacity limit is in payment token (true) or in PANA (false, default)\\n    bool quoteTokenIsReserve; // quoteToken is a reserve asset/PANA LP pair (true) or not a reserve asset (false)\\n    uint256 totalDebt; // total debt from market\\n    uint256 maxPayout; // max tokens in/out (determined by capacityInQuote false/true, respectively)\\n    uint256 sold; // base tokens out\\n    uint256 purchased; // quote tokens in\\n  }\\n\\n  // Info for creating new markets\\n  struct Terms {\\n    bool fixedTerm; // fixed term or fixed expiration\\n    uint256 controlVariable; // scaling variable for price\\n    uint48 vesting; // length of time from deposit to maturity if fixed-term\\n    uint48 conclusion; // timestamp when market no longer offered (doubles as time when market matures if fixed-expiry)\\n    uint256 maxDebt; // 18 decimal debt maximum in PANA\\n  }\\n\\n  // Additional info about market.\\n  struct Metadata {\\n    uint48 lastTune; // last timestamp when control variable was tuned\\n    uint48 lastDecay; // last timestamp when market was created and debt was decayed\\n    uint48 length; // time from creation to conclusion. used as speed to decay debt.\\n    uint48 depositInterval; // target frequency of deposits\\n    uint48 tuneInterval; // frequency of tuning\\n    uint8 quoteDecimals; // decimals of quote token\\n    bool quoteIsLPToken; // quote token is liquidity pair token\\n  }\\n\\n  // Control variable adjustment data\\n  struct Adjustment {\\n    uint256 change;\\n    uint48 lastAdjustment;\\n    uint48 timeToAdjusted;\\n    bool active;\\n  }\\n\\n\\n  /**\\n   * @notice deposit market\\n   * @param _bid uint256\\n   * @param _amount uint256\\n   * @param _maxPrice uint256\\n   * @param _user address\\n   * @param _referral address\\n   * @return payout_ uint256\\n   * @return expiry_ uint256\\n   * @return index_ uint256\\n   */\\n  function deposit(\\n    uint256 _bid,\\n    uint256 _amount,\\n    uint256 _maxPrice,\\n    address _user,\\n    address _referral\\n  ) external returns (\\n    uint256 payout_, \\n    uint256 expiry_,\\n    uint256 index_\\n  );\\n\\n  function create (\\n    IERC20 _quoteToken, // token used to deposit\\n    uint256[3] memory _market, // [capacity, initial price]\\n    bool[4] memory _booleans, // [capacity in quote, quote is reserve, quote is LP, fixed term]\\n    uint256[2] memory _terms, // [vesting, conclusion]\\n    uint32[2] memory _intervals // [deposit interval, tune interval]\\n  ) external returns (uint256 id_);\\n  function close(uint256 _id) external;\\n\\n  function isLive(uint256 _bid) external view returns (bool);\\n  function liveMarkets() external view returns (uint256[] memory);\\n  function liveMarketsFor(address _quoteToken) external view returns (uint256[] memory);\\n  function payoutFor(uint256 _amount, uint256 _bid) external view returns (uint256);\\n  function marketPrice(uint256 _bid) external view returns (uint256);\\n  function currentDebt(uint256 _bid) external view returns (uint256);\\n  function debtRatio(uint256 _bid) external view returns (uint256);\\n  function debtDecay(uint256 _bid) external view returns (uint256);\\n}\",\"keccak256\":\"0x58702ec715a1f6d0bb864cd9869d2770f36105a36702fdc21aba0ef544e47386\",\"license\":\"AGPL-3.0\"},\"contracts/interfaces/IERC20.sol\":{\"content\":\"// SPDX-License-Identifier: AGPL-3.0\\npragma solidity >=0.7.5;\\n\\ninterface IERC20 {\\n  /**\\n   * @dev Returns the amount of tokens in existence.\\n   */\\n  function totalSupply() external view returns (uint256);\\n\\n  /**\\n   * @dev Returns the amount of tokens owned by `account`.\\n   */\\n  function balanceOf(address account) external view returns (uint256);\\n\\n  /**\\n   * @dev Moves `amount` tokens from the caller's account to `recipient`.\\n   *\\n   * Returns a boolean value indicating whether the operation succeeded.\\n   *\\n   * Emits a {Transfer} event.\\n   */\\n  function transfer(address recipient, uint256 amount) external returns (bool);\\n\\n  /**\\n   * @dev Returns the remaining number of tokens that `spender` will be\\n   * allowed to spend on behalf of `owner` through {transferFrom}. This is\\n   * zero by default.\\n   *\\n   * This value changes when {approve} or {transferFrom} are called.\\n   */\\n  function allowance(address owner, address spender) external view returns (uint256);\\n\\n  /**\\n   * @dev Sets `amount` as the allowance of `spender` over the caller's tokens.\\n   *\\n   * Returns a boolean value indicating whether the operation succeeded.\\n   *\\n   * IMPORTANT: Beware that changing an allowance with this method brings the risk\\n   * that someone may use both the old and the new allowance by unfortunate\\n   * transaction ordering. One possible solution to mitigate this race\\n   * condition is to first reduce the spender's allowance to 0 and set the\\n   * desired value afterwards:\\n   * https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729\\n   *\\n   * Emits an {Approval} event.\\n   */\\n  function approve(address spender, uint256 amount) external returns (bool);\\n\\n  /**\\n   * @dev Moves `amount` tokens from `sender` to `recipient` using the\\n   * allowance mechanism. `amount` is then deducted from the caller's\\n   * allowance.\\n   *\\n   * Returns a boolean value indicating whether the operation succeeded.\\n   *\\n   * Emits a {Transfer} event.\\n   */\\n  function transferFrom(address sender, address recipient, uint256 amount) external returns (bool);\\n\\n  /**\\n   * @dev Emitted when `value` tokens are moved from one account (`from`) to\\n   * another (`to`).\\n   *\\n   * Note that `value` may be zero.\\n   */\\n  event Transfer(address indexed from, address indexed to, uint256 value);\\n\\n  /**\\n   * @dev Emitted when the allowance of a `spender` for an `owner` is set by\\n   * a call to {approve}. `value` is the new allowance.\\n   */\\n  event Approval(address indexed owner, address indexed spender, uint256 value);\\n}\\n\",\"keccak256\":\"0xa142440b0e1c51ece24b6d074ac883b34e1f33a2472773eeaaf4871875904d09\",\"license\":\"AGPL-3.0\"},\"contracts/interfaces/IERC20Metadata.sol\":{\"content\":\"// SPDX-License-Identifier: AGPL-3.0\\npragma solidity >=0.7.5;\\n\\nimport \\\"./IERC20.sol\\\";\\n\\ninterface IERC20Metadata is IERC20 {\\n\\n    function name() external view returns (string memory);\\n\\n    function symbol() external view returns (string memory);\\n\\n    function decimals() external view returns (uint8);\\n}\",\"keccak256\":\"0x6dfa58ba4a241b2201f3ecb3ba26345ce4dd66f0a553f18b2a284341f5aacd72\",\"license\":\"AGPL-3.0\"},\"contracts/interfaces/IKarsha.sol\":{\"content\":\"// SPDX-License-Identifier: AGPL-3.0\\npragma solidity >=0.7.5;\\n\\nimport \\\"./IERC20.sol\\\";\\n\\ninterface IKarsha is IERC20 {\\n  function mint(address _to, uint256 _amount) external;\\n\\n  function burn(address _from, uint256 _amount) external;\\n\\n  function index() external view returns (uint256);\\n  \\n  function balanceOfPANA(address _address) external view returns (uint256);\\n\\n  function balanceFrom(uint256 _amount) external view returns (uint256);\\n\\n  function balanceTo(uint256 _amount) external view returns (uint256);\\n\\n  function migrate( address _staking, address _sPana ) external;\\n\\n  function transfer(address _to,uint256 _amount) external override returns (bool);\\n  function transferFrom(address sender, address recipient, uint256 amount) external override returns (bool);\\n}\\n\",\"keccak256\":\"0x5874fe68f485df39d4e8da989a3a2840ec140a7b37637ef202250c5c06b4d61a\",\"license\":\"AGPL-3.0\"},\"contracts/interfaces/INoteKeeper.sol\":{\"content\":\"// SPDX-License-Identifier: AGPL-3.0-only\\npragma solidity >=0.7.5;\\n\\ninterface INoteKeeper {\\n  // Info for market note\\n  struct Note {\\n    uint256 payout; // KARSHA remaining to be paid\\n    uint48 created; // time market was created\\n    uint48 matured; // timestamp when market is matured\\n    uint48 redeemed; // time market was redeemed\\n    uint48 marketID; // market ID of deposit. uint48 to avoid adding a slot.\\n  }\\n\\n  function redeem(address _user, uint256[] memory _indexes) external returns (uint256);\\n  function redeemAll(address _user) external returns (uint256);\\n  function pushNote(address to, uint256 index) external;\\n  function pullNote(address from, uint256 index) external returns (uint256 newIndex_);\\n\\n  function indexesFor(address _user) external view returns (uint256[] memory);\\n  function pendingFor(address _user, uint256 _index) external view returns (uint256 payout_, bool matured_);\\n}\",\"keccak256\":\"0x938ea165ff32eba4b4ca7725fb5711c8ab2c101c49d58323c0d6cce9c1bfffc7\",\"license\":\"AGPL-3.0-only\"},\"contracts/interfaces/IPanaAuthority.sol\":{\"content\":\"// SPDX-License-Identifier: AGPL-3.0\\npragma solidity >=0.7.5;\\n\\ninterface IPanaAuthority {\\n    /* ========== EVENTS ========== */\\n    \\n    event GovernorPushed(address indexed from, address indexed to, bool _effectiveImmediately);\\n    event GuardianPushed(address indexed from, address indexed to, bool _effectiveImmediately);    \\n    event PolicyPushed(address indexed from, address indexed to, bool _effectiveImmediately);    \\n    event VaultPushed(address indexed from, address indexed to, bool _effectiveImmediately);    \\n\\n    event GovernorPulled(address indexed from, address indexed to);\\n    event GuardianPulled(address indexed from, address indexed to);\\n    event PolicyPulled(address indexed from, address indexed to);\\n    event VaultPulled(address indexed from, address indexed to);\\n\\n    /* ========== VIEW ========== */\\n    \\n    function governor() external view returns (address);\\n    function guardian() external view returns (address);\\n    function policy() external view returns (address);\\n    function vault() external view returns (address);\\n}\",\"keccak256\":\"0x6719e1f6949b31cb893450e9850a14b02d74850e50ba1879dc04d97f9c6f090e\",\"license\":\"AGPL-3.0\"},\"contracts/interfaces/IPriceOracle.sol\":{\"content\":\"// SPDX-License-Identifier: AGPL-3.0\\npragma solidity >=0.7.5;\\n\\ninterface IPriceOracle {\\n    function consult(address tokenIn, uint amountIn, address tokenOut) external view returns (uint amountOut);\\n}\",\"keccak256\":\"0x0b183ce5261f1410c2ddffc8c135fac1cacc8ed731ee69758609a6e43c68d130\",\"license\":\"AGPL-3.0\"},\"contracts/interfaces/IStaking.sol\":{\"content\":\"// SPDX-License-Identifier: AGPL-3.0\\npragma solidity >=0.7.5;\\n\\ninterface IStaking {\\n    function stake(\\n        address _to,\\n        uint256 _amount\\n    ) external returns (uint256);\\n\\n    function claim(address _recipient, bool _rebasing) external returns (uint256);\\n\\n    function forfeit() external returns (uint256);\\n\\n    function toggleLock() external;\\n\\n    function unstake(\\n        address _to,\\n        uint256 _amount,\\n        bool _trigger\\n    ) external returns (uint256);\\n\\n    function rebase() external;\\n\\n    function index() external view returns (uint256);\\n\\n    function setBondDepositor(address _bondDepositor) external;\\n\\n    function allowExternalStaking(bool allow) external;\\n}\\n\",\"keccak256\":\"0xc2f700affdcad1edabc2aa09c395e9b9d5efec373b073015c406b177fbf463b2\",\"license\":\"AGPL-3.0\"},\"contracts/interfaces/ITreasury.sol\":{\"content\":\"// SPDX-License-Identifier: AGPL-3.0\\npragma solidity >=0.7.5;\\n\\ninterface ITreasury {\\n    function deposit(\\n        uint256 _amount,\\n        address _token,\\n        uint256 _profit\\n    ) external returns (uint256);\\n\\n    function withdraw(uint256 _amount, address _token) external;\\n\\n    function tokenValue(address _token, uint256 _amount) external view returns (uint256 value_);\\n\\n    function mint(address _recipient, uint256 _amount) external;\\n\\n    function manage(address _token, uint256 _amount) external;\\n\\n    function incurDebt(uint256 amount_, address token_) external;\\n\\n    function repayDebtWithReserve(uint256 amount_, address token_) external;\\n\\n    function excessReserves() external view returns (uint256);\\n\\n    function baseSupply() external view returns (uint256);\\n}\\n\",\"keccak256\":\"0x3a7e171916da6bf9b28904c2adc6ede32896a841e7f7ede0ad60da6804659c56\",\"license\":\"AGPL-3.0\"},\"contracts/interfaces/IUniswapV2ERC20.sol\":{\"content\":\"// SPDX-License-Identifier: AGPL-3.0\\npragma solidity >=0.7.5;\\n\\ninterface IUniswapV2ERC20 {\\n    event Approval(address indexed owner, address indexed spender, uint value);\\n    event Transfer(address indexed from, address indexed to, uint value);\\n\\n    function name() external pure returns (string memory);\\n    function symbol() external pure returns (string memory);\\n    function decimals() external pure returns (uint8);\\n    function totalSupply() external view returns (uint);\\n    function balanceOf(address owner) external view returns (uint);\\n    function allowance(address owner, address spender) external view returns (uint);\\n\\n    function approve(address spender, uint value) external returns (bool);\\n    function transfer(address to, uint value) external returns (bool);\\n    function transferFrom(address from, address to, uint value) external returns (bool);\\n\\n    function DOMAIN_SEPARATOR() external view returns (bytes32);\\n    function PERMIT_TYPEHASH() external pure returns (bytes32);\\n    function nonces(address owner) external view returns (uint);\\n\\n    function permit(address owner, address spender, uint value, uint deadline, uint8 v, bytes32 r, bytes32 s) external;\\n}\",\"keccak256\":\"0xa8bc04fe333cf795f2882098679f5026bccd6d10c173f94a6f7e9d5c064e9284\",\"license\":\"AGPL-3.0\"},\"contracts/interfaces/IUniswapV2Pair.sol\":{\"content\":\"// SPDX-License-Identifier: AGPL-3.0\\npragma solidity >=0.7.5;\\n\\nimport \\\"./IUniswapV2ERC20.sol\\\";\\n\\ninterface IUniswapV2Pair is IUniswapV2ERC20 {\\n    function token0() external pure returns (address);\\n    function token1() external pure returns (address);\\n    function swap(uint amount0Out, uint amount1Out, address to, bytes calldata data) external;\\n    function getReserves() external view returns (uint112 reserve0, uint112 reserve1, uint32 blockTimestampLast);\\n    function mint(address to) external returns (uint liquidity);\\n    function sync() external;\\n}\",\"keccak256\":\"0x0e0385d9326267b126aba359474a85dc44d8529d06e9b8841a99bfddecdd8d5e\",\"license\":\"AGPL-3.0\"},\"contracts/libraries/SafeERC20.sol\":{\"content\":\"// SPDX-License-Identifier: AGPL-3.0-only\\npragma solidity >=0.7.5;\\n\\nimport {IERC20} from \\\"../interfaces/IERC20.sol\\\";\\n\\n/// @notice Safe IERC20 and ETH transfer library that safely handles missing return values.\\n/// @author Modified from Uniswap (https://github.com/Uniswap/uniswap-v3-periphery/blob/main/contracts/libraries/TransferHelper.sol)\\n/// Taken from Solmate\\nlibrary SafeERC20 {\\n    function safeTransferFrom(\\n        IERC20 token,\\n        address from,\\n        address to,\\n        uint256 amount\\n    ) internal {\\n        (bool success, bytes memory data) = address(token).call(\\n            abi.encodeWithSelector(IERC20.transferFrom.selector, from, to, amount)\\n        );\\n\\n        require(success && (data.length == 0 || abi.decode(data, (bool))), \\\"TRANSFER_FROM_FAILED\\\");\\n    }\\n\\n    function safeTransfer(\\n        IERC20 token,\\n        address to,\\n        uint256 amount\\n    ) internal {\\n        (bool success, bytes memory data) = address(token).call(\\n            abi.encodeWithSelector(IERC20.transfer.selector, to, amount)\\n        );\\n\\n        require(success && (data.length == 0 || abi.decode(data, (bool))), \\\"TRANSFER_FAILED\\\");\\n    }\\n\\n    function safeApprove(\\n        IERC20 token,\\n        address to,\\n        uint256 amount\\n    ) internal {\\n        (bool success, bytes memory data) = address(token).call(\\n            abi.encodeWithSelector(IERC20.approve.selector, to, amount)\\n        );\\n\\n        require(success && (data.length == 0 || abi.decode(data, (bool))), \\\"APPROVE_FAILED\\\");\\n    }\\n\\n    function safeTransferETH(address to, uint256 amount) internal {\\n        (bool success, ) = to.call{value: amount}(new bytes(0));\\n\\n        require(success, \\\"ETH_TRANSFER_FAILED\\\");\\n    }\\n}\",\"keccak256\":\"0xbdd4f99088de7c23383b043055646de013b1312166a9bfa05e3995cdcf7ae022\",\"license\":\"AGPL-3.0-only\"},\"contracts/treasury/FrontEndRewarder.sol\":{\"content\":\"// SPDX-License-Identifier: AGPL-3.0-only\\npragma solidity ^0.8.10;\\n\\nimport \\\"../access/PanaAccessControlled.sol\\\";\\nimport \\\"../interfaces/IERC20.sol\\\";\\n\\nabstract contract FrontEndRewarder is PanaAccessControlled {\\n\\n  /* ========= STATE VARIABLES ========== */\\n\\n  uint256 public daoReward; // % reward for dao (3 decimals: 100 = 1%)\\n  uint256 public refReward; // % reward for referrer (3 decimals: 100 = 1%)\\n  mapping(address => uint256) public rewards; // front end operator rewards\\n  mapping(address => bool) public whitelisted; // whitelisted status for operators\\n\\n  IERC20 internal immutable pana; // reward token\\n\\n  constructor(\\n    IPanaAuthority _authority, \\n    IERC20 _pana\\n  ) PanaAccessControlled(_authority) {\\n    pana = _pana;\\n  }\\n\\n  /* ========= EXTERNAL FUNCTIONS ========== */\\n\\n  // pay reward to front end operator\\n  function getReward() external {\\n    uint256 reward = rewards[msg.sender];\\n\\n    rewards[msg.sender] = 0;\\n    pana.transfer(msg.sender, reward);\\n  }\\n\\n  /* ========= INTERNAL ========== */\\n\\n  /** \\n   * @notice adds rewards amount for front end operators and DAO based on _payout\\n   */\\n  function giveRewards(\\n    uint256 _payout,\\n    address _referral,\\n    uint256 _rewardLimit\\n  ) internal returns (uint256) {\\n    // first we calculate rewards paid to the DAO and to the front end operator (referrer)\\n    uint256 toDAO = _payout * daoReward / 1e4;\\n    uint256 toRef = _payout * refReward / 1e4;\\n\\n    // adjust rewards if we exceed limits\\n    if ((toDAO + toRef) > _rewardLimit) {\\n      toRef = toRef > _rewardLimit ? _rewardLimit : toRef;\\n      toDAO = _rewardLimit > toRef ? _rewardLimit - toRef : 0; \\n    }\\n\\n    // and store them in our rewards mapping\\n    if (whitelisted[_referral]) {\\n      rewards[_referral] += toRef;\\n      rewards[authority.guardian()] += toDAO;\\n    } else { // the DAO receives both rewards if referrer is not whitelisted\\n      rewards[authority.guardian()] += toDAO + toRef;\\n    }\\n    return toDAO + toRef;\\n  }\\n\\n  /**\\n   * @notice set rewards for front end operators and DAO\\n   */\\n  function setRewards(uint256 _toFrontEnd, uint256 _toDAO) external onlyGovernor {\\n    refReward = _toFrontEnd;\\n    daoReward = _toDAO;\\n  }\\n\\n  /**\\n   * @notice add or remove addresses from the reward whitelist\\n   */\\n  function whitelist(address _operator) external onlyPolicy {\\n    whitelisted[_operator] = !whitelisted[_operator];\\n  }\\n}\",\"keccak256\":\"0xf964dfdbdee9f91b3552dea08f4f1e2bc54dc27926bb224ec1c6b0f55a04f19f\",\"license\":\"AGPL-3.0-only\"}},\"version\":1}",
  "bytecode": "0x610120604052600c60e08190526b15539055551213d49256915160a21b6101009081526200003191600091906200017b565b503480156200003f57600080fd5b5060405162004f3f38038062004f3f83398101604081905262000062916200023a565b600180546001600160a01b0319166001600160a01b038716908117909155604051869186918691869186918691869183917f2f658b440c35314f52658ea8a740e05b284cdc84dc9ae01e891f21b8933e7cad90600090a2506001600160a01b0390811660805293841660a0525090821660c052600880546001600160a01b03191691831691909117905560405163095ea7b360e01b81528582166004820152722cd76fe086b93ce2f768a00b22a000000000006024820152908716925063095ea7b391506044016020604051808303816000875af115801562000149573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200016f9190620002ba565b50505050505062000322565b8280546200018990620002e5565b90600052602060002090601f016020900481019282620001ad5760008555620001f8565b82601f10620001c857805160ff1916838001178555620001f8565b82800160010185558215620001f8579182015b82811115620001f8578251825591602001919060010190620001db565b50620002069291506200020a565b5090565b5b808211156200020657600081556001016200020b565b6001600160a01b03811681146200023757600080fd5b50565b600080600080600060a086880312156200025357600080fd5b8551620002608162000221565b6020870151909550620002738162000221565b6040870151909450620002868162000221565b6060870151909350620002998162000221565b6080870151909250620002ac8162000221565b809150509295509295909350565b600060208284031215620002cd57600080fd5b81518015158114620002de57600080fd5b9392505050565b600181811c90821680620002fa57607f821691505b602082108114156200031c57634e487b7160e01b600052602260045260246000fd5b50919050565b60805160a05160c051614bae6200039160003960008181611f97015261380f015260008181611cb701528181611d3601528181611f5d01528181612ba101526138c501526000818161099f0152818161110e01528181611c7c01528181611cfb01526120530152614bae6000f3fe608060405234801561001057600080fd5b50600436106102775760003560e01c8063a422061011610160578063c3e0fb1c116100d8578063e0b117ff1161008c578063e481b26511610071578063e481b265146106d2578063f1b7dc78146106e5578063f3191a46146106f857600080fd5b8063e0b117ff1461062b578063e3684e391461067357600080fd5b8063d2390aa2116100bd578063d2390aa2146105e2578063d6db4df8146105f5578063d936547e1461060857600080fd5b8063c3e0fb1c146105b2578063c9b67af5146105da57600080fd5b8063bcb296671161012f578063bf7e214f11610114578063bf7e214f14610544578063c0680e2014610557578063c0aa0e8a1461056a57600080fd5b8063bcb296671461051e578063be399be51461053157600080fd5b8063a422061014610424578063abbf4b1714610437578063b1283e771461044a578063bc3b2b12146104a657600080fd5b8063530e784f116101f35780637a9e5e4b116101c257806384a07dcb116101a757806384a07dcb146103f65780639b19251a146104095780639c7697871461041c57600080fd5b80637a9e5e4b146103b55780637c770aae146103c857600080fd5b8063530e784f1461035c578063649144391461036f578063654e51e71461038f5780636a6c575d146103a257600080fd5b80632630c12f1161024a5780633adec5a71161022f5780633adec5a71461032e5780633d18b912146103415780634889bf6d1461034957600080fd5b80632630c12f146102e0578063275074581461030b57600080fd5b80630700037d1461027c5780630a9d85eb146102af5780630aebeb4e146102c25780631885f580146102d7575b600080fd5b61029c61028a366004614372565b60046020526000908152604090205481565b6040519081526020015b60405180910390f35b61029c6102bd36600461438f565b610701565b6102d56102d036600461438f565b610748565b005b61029c60025481565b6009546102f3906001600160a01b031681565b6040516001600160a01b0390911681526020016102a6565b61031e61031936600461438f565b610897565b60405190151581526020016102a6565b61029c61033c36600461438f565b610908565b6102d5610964565b61029c61035736600461454d565b610a10565b6102d561036a366004614372565b61117e565b61038261037d366004614372565b61124c565b6040516102a6919061460f565b6102d561039d366004614653565b6113db565b61029c6103b0366004614653565b611492565b6102d56103c3366004614372565b611579565b6103db6103d6366004614675565b61166f565b604080519384526020840192909252908201526060016102a6565b61029c61040436600461438f565b6119e0565b6102d5610417366004614372565b6120dc565b6102d56121b1565b61029c6104323660046146cb565b612445565b61029c61044536600461438f565b6126d8565b61045d61045836600461438f565b6127bb565b604080519889526001600160a01b039097166020890152941515958701959095529115156060860152608085015260a084015260c083019190915260e0820152610100016102a6565b6104ed6104b436600461438f565b600d602052600090815260409020805460019091015465ffffffffffff80821691600160301b810490911690600160601b900460ff1684565b6040516102a6949392919093845265ffffffffffff9283166020850152911660408301521515606082015260800190565b61029c61052c36600461438f565b61281e565b61029c61053f366004614372565b612858565b6001546102f3906001600160a01b031681565b61029c6105653660046146cb565b612867565b61057d61057836600461438f565b612898565b604080519515158652602086019490945265ffffffffffff92831693850193909352166060830152608082015260a0016102a6565b6105c56105c03660046146cb565b6128ea565b604080519283529015156020830152016102a6565b6103826129b5565b61029c6105f03660046146f7565b612a9e565b6102d56106033660046146cb565b612c16565b61031e610616366004614372565b60056020526000908152604090205460ff1681565b61063e6106393660046146cb565b612cd8565b6040805195865265ffffffffffff9485166020870152928416928501929092528216606084015216608082015260a0016102a6565b61068661068136600461438f565b612d3b565b6040805165ffffffffffff98891681529688166020880152948716948601949094529185166060850152909316608083015260ff90921660a082015290151560c082015260e0016102a6565b6103826106e0366004614372565b612da3565b61029c6106f336600461438f565b612fc8565b61029c60035481565b60008061070d83613073565b5050905080600b8481548110610725576107256147b2565b90600052602060002090600402016001015461074191906147de565b9392505050565b600160009054906101000a90046001600160a01b03166001600160a01b0316630505c8c96040518163ffffffff1660e01b8152600401602060405180830381865afa15801561079b573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906107bf91906147f5565b6001600160a01b0316336001600160a01b0316146000906107fc5760405162461bcd60e51b81526004016107f39190614812565b60405180910390fd5b5042600b8281548110610811576108116147b2565b906000526020600020906004020160020160066101000a81548165ffffffffffff021916908365ffffffffffff1602179055506000600a8281548110610859576108596147b2565b6000918252602082206006909102019190915560405182917f8401d05adbea6548a6999cc1540766e6d2ff919292142862893d0e62ec79fbe591a250565b6000600a82815481106108ac576108ac6147b2565b906000526020600020906006020160000154600014158015610902575042600b83815481106108dd576108dd6147b2565b6000918252602090912060049091020160020154600160301b900465ffffffffffff16115b92915050565b6000600c828154811061091d5761091d6147b2565b60009182526020909120015461093e90600160f01b900460ff16600a61499e565b61094783612fc8565b61095084610701565b61095a91906149ad565b61090291906149cc565b33600081815260046020819052604080832080549390555163a9059cbb60e01b81529081019290925260248201819052906001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169063a9059cbb906044016020604051808303816000875af11580156109e8573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610a0c91906149ee565b5050565b60015460408051630505c8c960e01b815290516000926001600160a01b031691630505c8c99160048083019260209291908290030181865afa158015610a5a573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610a7e91906147f5565b6001600160a01b0316336001600160a01b031614600090610ab25760405162461bcd60e51b81526004016107f39190614812565b506020830151600090610ac69042906147de565b90506000876001600160a01b031663313ce5676040518163ffffffff1660e01b8152600401602060405180830381865afa158015610b08573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610b2c9190614a0b565b60ff169050600086816020020151610b45578751610b84565b610b5082600a614a2e565b60208901518951610b70906ec097ce7bc90715b34b9f10000000006149ad565b610b7a91906149cc565b610b8491906149cc565b85519091506000908490610b9e9063ffffffff16846149ad565b610ba891906149cc565b90506000620186a08a60026020020151610bc290856149ad565b610bcc91906149cc565b610bd69084614a3a565b9050600083600860009054906101000a90046001600160a01b03166001600160a01b031663860f50486040518163ffffffff1660e01b8152600401602060405180830381865afa158015610c2e573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610c529190614a52565b60208d0151610c6191906149ad565b610c6b91906149cc565b600a805460408051610100810190915290995091925090808d6000602002015181526020018e6001600160a01b031681526020018c600060048110610cb257610cb26147b2565b6020020151151581526020018c600160048110610cd157610cd16147b2565b6020908102919091015115158252818101889052604080830188905260006060808501829052608094850182905286546001808201895597835291849020865160069093020191825585840151828801805488860151898501511515600160a81b027fffffffffffffffffffff00ffffffffffffffffffffffffffffffffffffffffff911515600160a01b027fffffffffffffffffffffff0000000000000000000000000000000000000000009093166001600160a01b0390951694909417919091171691909117905593850151600282015560a080860151600383015560c0860151600483015560e090950151600590910155805193840181528e830151151584529083018590528c5165ffffffffffff1690830152600b92908201908c906020908102919091015165ffffffffffff90811683529181018690528354600180820186556000958652948290208451600490920201805491151560ff199092169190911781558382015194810194909455604080840151600280870180546060808901518816600160301b026bffffffffffffffffffffffff1990921694881694909417179055608095860151600390970196909655815160e08101835242851680825281850152938c16918401919091528c5163ffffffff90811691840191909152908c0151169181019190915260ff871660a0820152600c9160c08201908d90602002015115158152509080600181540180825580915050600190039060005260206000200160009091909190915060008201518160000160006101000a81548165ffffffffffff021916908365ffffffffffff16021790555060208201518160000160066101000a81548165ffffffffffff021916908365ffffffffffff160217905550604082015181600001600c6101000a81548165ffffffffffff021916908365ffffffffffff16021790555060608201518160000160126101000a81548165ffffffffffff021916908365ffffffffffff16021790555060808201518160000160186101000a81548165ffffffffffff021916908365ffffffffffff16021790555060a082015181600001601e6101000a81548160ff021916908360ff16021790555060c082015181600001601f6101000a81548160ff0219169083151502179055505050600e60008d6001600160a01b03166001600160a01b031681526020019081526020016000208790806001815401808255809150506001900390600052602060002001600090919091909150558960016004811061107c5761107c6147b2565b6020020151156111005760085460405163095ea7b360e01b81526001600160a01b0391821660048201526000196024820152908d169063095ea7b3906044016020604051808303816000875af11580156110da573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906110fe91906149ee565b505b6001600160a01b03808d16907f000000000000000000000000000000000000000000000000000000000000000016887f2f6ff727bd580b1d1b8332e28aa93ed4ec9d8b08d6e30d6b4c9f7aa63ca17f638e6001602002015160405161116791815260200190565b60405180910390a450505050505095945050505050565b600160009054906101000a90046001600160a01b03166001600160a01b0316630c340a246040518163ffffffff1660e01b8152600401602060405180830381865afa1580156111d1573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906111f591906147f5565b6001600160a01b0316336001600160a01b0316146000906112295760405162461bcd60e51b81526004016107f39190614812565b50600980546001600160a01b0319166001600160a01b0392909216919091179055565b6001600160a01b0381166000908152600e602090815260408083208054825181850281018501909352808352606094938301828280156112ab57602002820191906000526020600020905b815481526020019060010190808311611297575b50505050509050600080600090505b825181101561130a576112e58382815181106112d8576112d86147b2565b6020026020010151610897565b156112f857816112f481614a6b565b9250505b8061130281614a6b565b9150506112ba565b5060008167ffffffffffffffff811115611326576113266143a8565b60405190808252806020026020018201604052801561134f578160200160208202803683370190505b5090506000805b84518110156113d0576113748582815181106112d8576112d86147b2565b156113be5784818151811061138b5761138b6147b2565b60200260200101518383815181106113a5576113a56147b2565b6020908102919091010152816113ba81614a6b565b9250505b806113c881614a6b565b915050611356565b509095945050505050565b600160009054906101000a90046001600160a01b03166001600160a01b0316630c340a246040518163ffffffff1660e01b8152600401602060405180830381865afa15801561142e573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061145291906147f5565b6001600160a01b0316336001600160a01b0316146000906114865760405162461bcd60e51b81526004016107f39190614812565b50600391909155600255565b600080600c83815481106114a8576114a86147b2565b60009182526020918290206040805160e081018252919092015465ffffffffffff8082168352600160301b8204811694830194909452600160601b8104841692820192909252600160901b820483166060820152600160c01b8204909216608083015260ff600160f01b8204811660a08401819052600160f81b90920416151560c083015290915061153b90600a61499e565b61154484610908565b61155d866ec097ce7bc90715b34b9f10000000006149ad565b61156791906149cc565b61157191906149cc565b949350505050565b600160009054906101000a90046001600160a01b03166001600160a01b0316630c340a246040518163ffffffff1660e01b8152600401602060405180830381865afa1580156115cc573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906115f091906147f5565b6001600160a01b0316336001600160a01b0316146000906116245760405162461bcd60e51b81526004016107f39190614812565b50600180546001600160a01b0319166001600160a01b0383169081179091556040517f2f658b440c35314f52658ea8a740e05b284cdc84dc9ae01e891f21b8933e7cad90600090a250565b600080600080600a8981548110611688576116886147b2565b906000526020600020906006020190506000600b8a815481106116ad576116ad6147b2565b60009182526020918290206040805160a0810182526004909302909101805460ff1615158352600181015493830193909352600283015465ffffffffffff80821692840192909252600160301b900481166060830181905260039093015460808301529092504291908216106117655760405162461bcd60e51b815260206004820152601c60248201527f4465706f7369746f72793a206d61726b657420636f6e636c756465640000000060448201526064016107f3565b61176f8b82613155565b600061177a8c613311565b9050898111156117cc5760405162461bcd60e51b815260206004820152601f60248201527f4465706f7369746f72793a206d6f7265207468616e206d61782070726963650060448201526064016107f3565b600c8c815481106117df576117df6147b2565b60009182526020909120015461180090600160f01b900460ff16600a61499e565b8161181a8d6ec097ce7bc90715b34b9f10000000006149ad565b61182491906149cc565b61182e91906149cc565b965083600301548711156118845760405162461bcd60e51b815260206004820152601d60248201527f4465706f7369746f72793a206d61782073697a6520657863656564656400000060448201526064016107f3565b6001840154600160a01b900460ff1661189d578661189f565b8a5b8460000160008282546118b291906147de565b909155505082516118c75782604001516118d7565b8183604001516118d79190614a86565b65ffffffffffff1695508a8460050160008282546118f59190614a3a565b92505081905550868460040160008282546119109190614a3a565b925050819055508684600201600082825461192b9190614a3a565b9091555050604080518c8152602081018390528d917f7880508a48fd3aee88f7e15917d85e39c3ad059e51ad4aca9bb46e7b4938b961910160405180910390a2506119788b8b888a61351f565b6119848887878e613884565b93508260020154826080015110156119c85760008084556040518c917f8401d05adbea6548a6999cc1540766e6d2ff919292142862893d0e62ec79fbe591a26119d2565b6119d28b82613a0a565b505050955095509592505050565b600080600a83815481106119f6576119f66147b2565b60009182526020808320604080516101008101825260069094029091018054845260018101546001600160a01b0381169385019390935260ff600160a01b84048116151592850192909252600160a81b909204161515606083015260028101546080830152600381015460a0830152600481015460c08301526005015460e0820152600c80549193509085908110611a9057611a906147b2565b60009182526020918290206040805160e081018252919092015465ffffffffffff8082168352600160301b8204811694830194909452600160601b8104841692820192909252600160901b820483166060820152600160c01b8204909216608083015260ff600160f01b8204811660a0840152600160f81b9091041615801560c0830152909150612034576000826020015190506000816001600160a01b0316630dfe16816040518163ffffffff1660e01b8152600401602060405180830381865afa158015611b64573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611b8891906147f5565b90506000826001600160a01b031663d21220a76040518163ffffffff1660e01b8152600401602060405180830381865afa158015611bca573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611bee91906147f5565b9050600080846001600160a01b0316630902f1ac6040518163ffffffff1660e01b8152600401606060405180830381865afa158015611c31573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611c559190614ad3565b506dffffffffffffffffffffffffffff1691506dffffffffffffffffffffffffffff1691507f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316846001600160a01b03161480611ceb57507f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316846001600160a01b0316145b15611cf95791929190611db6565b7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316836001600160a01b03161480611d6a57507f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316836001600160a01b0316145b611db65760405162461bcd60e51b815260206004820152600c60248201527f496e76616c69642070616972000000000000000000000000000000000000000060448201526064016107f3565b6000846001600160a01b031663313ce5676040518163ffffffff1660e01b8152600401602060405180830381865afa158015611df6573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611e1a9190614a0b565b600954604051632321bc7960e21b81526001600160a01b038881166004830152670de0b6b3a76400006024830152878116604483015260ff93909316935060009290911690638c86f1e490606401602060405180830381865afa158015611e85573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611ea99190614a52565b90506000611eb883600a614a2e565b611ec283876149ad565b611ecc91906149cc565b611ed69085614a3a565b9050600081896001600160a01b03166318160ddd6040518163ffffffff1660e01b8152600401602060405180830381865afa158015611f19573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611f3d9190614a52565b611f4f90670de0b6b3a76400006149ad565b611f5991906149cc565b90507f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316876001600160a01b03161415612024577f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316632986c0e56040518163ffffffff1660e01b8152600401602060405180830381865afa158015611ff3573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906120179190614a52565b61202190826149cc565b90505b9c9b505050505050505050505050565b6009546020830151604051632321bc7960e21b81526001600160a01b037f000000000000000000000000000000000000000000000000000000000000000081166004830152670de0b6b3a764000060248301529182166044820152911690638c86f1e490606401602060405180830381865afa1580156120b8573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906115719190614a52565b600160009054906101000a90046001600160a01b03166001600160a01b0316630505c8c96040518163ffffffff1660e01b8152600401602060405180830381865afa15801561212f573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061215391906147f5565b6001600160a01b0316336001600160a01b0316146000906121875760405162461bcd60e51b81526004016107f39190614812565b506001600160a01b03166000908152600560205260409020805460ff19811660ff90911615179055565b600160009054906101000a90046001600160a01b03166001600160a01b0316630c340a246040518163ffffffff1660e01b8152600401602060405180830381865afa158015612204573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061222891906147f5565b6001600160a01b0316336001600160a01b031614806122ce5750600160009054906101000a90046001600160a01b03166001600160a01b031663452a93206040518163ffffffff1660e01b8152600401602060405180830381865afa158015612295573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906122b991906147f5565b6001600160a01b0316336001600160a01b0316145b806123605750600160009054906101000a90046001600160a01b03166001600160a01b0316630505c8c96040518163ffffffff1660e01b8152600401602060405180830381865afa158015612327573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061234b91906147f5565b6001600160a01b0316336001600160a01b0316145b6123ac5760405162461bcd60e51b815260206004820152600f60248201527f4f6e6c7920617574686f72697a6564000000000000000000000000000000000060448201526064016107f3565b600160009054906101000a90046001600160a01b03166001600160a01b031663fbfa77cf6040518163ffffffff1660e01b8152600401602060405180830381865afa1580156123ff573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061242391906147f5565b600880546001600160a01b0319166001600160a01b0392909216919091179055565b6001600160a01b03828116600090815260076020908152604080832085845290915281205490911633146124bb5760405162461bcd60e51b815260206004820152601e60248201527f4465706f7369746f72793a207472616e73666572206e6f7420666f756e64000060448201526064016107f3565b6001600160a01b03831660009081526006602052604090208054839081106124e5576124e56147b2565b6000918252602090912060029091020160010154600160601b900465ffffffffffff16156125555760405162461bcd60e51b815260206004820152601960248201527f4465706f7369746f72793a206e6f74652072656465656d65640000000000000060448201526064016107f3565b503360009081526006602052604080822080546001600160a01b03861684529190922080549192918490811061258d5761258d6147b2565b600091825260208083208454600181810187559585528285206002948502909201805491909402909101908155918401805492909401805465ffffffffffff19811665ffffffffffff94851690811783558654600160301b908190048616026bffffffffffffffffffffffff1990921617178082558554600160601b9081900485160271ffffffffffff000000000000000000000000198216811783559554600160901b9081900490941690930265ffffffffffff60901b1990951677ffffffffffffffffffffffff00000000000000000000000019909316929092179390931790556001600160a01b0385168152600690915260409020805483908110612697576126976147b2565b60009182526020822060029091020190815560010180547fffffffffffffffff00000000000000000000000000000000000000000000000016905592915050565b600080600c83815481106126ee576126ee6147b2565b600091825260208083206040805160e081018252939091015465ffffffffffff8082168552600160301b82048116938501849052600160601b8204811692850192909252600160901b810482166060850152600160c01b8104909116608084015260ff600160f01b8204811660a0850152600160f81b90910416151560c083015290925061277c90426147de565b9050816040015165ffffffffffff1681600a868154811061279f5761279f6147b2565b90600052602060002090600602016002015461156791906149ad565b600a81815481106127cb57600080fd5b60009182526020909120600690910201805460018201546002830154600384015460048501546005909501549395506001600160a01b0383169460ff600160a01b8504811695600160a81b909504169388565b6000612829826126d8565b600a838154811061283c5761283c6147b2565b90600052602060002090600602016002015461090291906147de565b6000610902826105f084612da3565b600e602052816000526040600020818154811061288357600080fd5b90600052602060002001600091509150505481565b600b81815481106128a857600080fd5b6000918252602090912060049091020180546001820154600283015460039093015460ff90921693509165ffffffffffff80821692600160301b909204169085565b6001600160a01b038216600090815260066020526040812080548291829185908110612918576129186147b2565b60009182526020918290206040805160a0810182526002909302909101805480845260019091015465ffffffffffff80821695850195909552600160301b8104851692840192909252600160601b8204841660608401819052600160901b9092049093166080830152919450915015801561299f575042816040015165ffffffffffff1611155b80156129ab5750805115155b9150509250929050565b60606000805b600a548110156129f3576129ce81610897565b156129e157816129dd81614a6b565b9250505b806129eb81614a6b565b9150506129bb565b5060008167ffffffffffffffff811115612a0f57612a0f6143a8565b604051908082528060200260200182016040528015612a38578160200160208202803683370190505b5090506000805b600a54811015612a9557612a5281610897565b15612a835780838381518110612a6a57612a6a6147b2565b602090810291909101015281612a7f81614a6b565b9250505b80612a8d81614a6b565b915050612a3f565b50909392505050565b600042815b8351811015612b7a57600080612ad287878581518110612ac557612ac56147b2565b60200260200101516128ea565b915091508015612b65576001600160a01b03871660009081526006602052604090208651859190889086908110612b0b57612b0b6147b2565b602002602001015181548110612b2357612b236147b2565b9060005260206000209060020201600101600c6101000a81548165ffffffffffff021916908365ffffffffffff1602179055508185612b629190614a3a565b94505b50508080612b7290614a6b565b915050612aa3565b5060405163a9059cbb60e01b81526001600160a01b038581166004830152602482018490527f0000000000000000000000000000000000000000000000000000000000000000169063a9059cbb906044016020604051808303816000875af1158015612bea573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612c0e91906149ee565b505092915050565b336000908152600660205260409020805482908110612c3757612c376147b2565b600091825260209091206001600290920201015465ffffffffffff16612c9f5760405162461bcd60e51b815260206004820152601a60248201527f4465706f7369746f72793a206e6f7465206e6f7420666f756e6400000000000060448201526064016107f3565b3360009081526007602090815260408083209383529290522080546001600160a01b0319166001600160a01b0392909216919091179055565b60066020528160005260406000208181548110612cf457600080fd5b60009182526020909120600290910201805460019091015490925065ffffffffffff8082169250600160301b8204811691600160601b8104821691600160901b9091041685565b600c8181548110612d4b57600080fd5b60009182526020909120015465ffffffffffff8082169250600160301b8204811691600160601b8104821691600160901b8204811691600160c01b81049091169060ff600160f01b8204811691600160f81b90041687565b6001600160a01b0381166000908152600660209081526040808320805482518185028101850190935280835260609493849084015b82821015612e4e5760008481526020908190206040805160a081018252600286029092018054835260019081015465ffffffffffff80821685870152600160301b8204811693850193909352600160601b810483166060850152600160901b900490911660808301529083529092019101612dd8565b505050509050600080600090505b8251811015612edd57828181518110612e7757612e776147b2565b60200260200101516060015165ffffffffffff166000148015612eb85750828181518110612ea757612ea76147b2565b602002602001015160000151600014155b15612ecb5781612ec781614a6b565b9250505b80612ed581614a6b565b915050612e5c565b5060008167ffffffffffffffff811115612ef957612ef96143a8565b604051908082528060200260200182016040528015612f22578160200160208202803683370190505b5090506000805b84518110156113d057848181518110612f4457612f446147b2565b60200260200101516060015165ffffffffffff166000148015612f855750848181518110612f7457612f746147b2565b602002602001015160000151600014155b15612fb65780838381518110612f9d57612f9d6147b2565b602090810291909101015281612fb281614a6b565b9250505b80612fc081614a6b565b915050612f29565b600854604080516310c1ea0960e31b815290516000926001600160a01b03169163860f50489160048083019260209291908290030181865afa158015613012573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906130369190614a52565b600c8381548110613049576130496147b2565b60009182526020909120015461306a90600160f01b900460ff16600a61499e565b6109508461281e565b6000818152600d6020908152604080832081516080810183528154815260019091015465ffffffffffff80821694830194909452600160301b810490931691810191909152600160601b90910460ff16151560608201819052829182916130e55760008060009350935093505061314e565b60208101516130f49042614b1a565b9250806040015165ffffffffffff168365ffffffffffff161091508161311b57805161314a565b806040015165ffffffffffff168365ffffffffffff16826000015161314091906149ad565b61314a91906149cc565b9350505b9193909250565b61315e826126d8565b600a8381548110613171576131716147b2565b9060005260206000209060060201600201600082825461319191906147de565b9250508190555080600c83815481106131ac576131ac6147b2565b60009182526020808320909101805465ffffffffffff94909416600160301b026bffffffffffff0000000000001990941693909317909255838152600d909152604090206001015460ff600160601b9091041615610a0c576000828152600d6020526040812090808061321e86613073565b92509250925082600b8781548110613238576132386147b2565b9060005260206000209060040201600101600082825461325891906147de565b909155505080156132f0578284600001600082825461327791906147de565b90915550506001840180548391906006906132a2908490600160301b900465ffffffffffff16614b1a565b92506101000a81548165ffffffffffff021916908365ffffffffffff160217905550848460010160006101000a81548165ffffffffffff021916908365ffffffffffff160217905550613309565b6001840180546cff000000000000000000000000191690555b505050505050565b600080600c8381548110613327576133276147b2565b60009182526020909120015461334890600160f01b900460ff16600a61499e565b61335184613f1f565b600b8581548110613364576133646147b2565b90600052602060002090600402016001015461338091906149ad565b61338a91906149cc565b6009549091506001600160a01b0316156133b95760006133a9846119e0565b9050818110156133b7578091505b505b600854600a80546000926001600160a01b03169163f182178391879081106133e3576133e36147b2565b906000526020600020906006020160010160009054906101000a90046001600160a01b0316600c878154811061341b5761341b6147b2565b60009182526020909120015461343c90600160f01b900460ff16600a61499e565b6040517fffffffff0000000000000000000000000000000000000000000000000000000060e085901b1681526001600160a01b0390921660048301526024820152604401602060405180830381865afa15801561349d573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906134c19190614a52565b600c85815481106134d4576134d46147b2565b6000918252602090912001546134f590600160f01b900460ff166012614b41565b61350090600a61499e565b61350a91906149cc565b905080821015613518578091505b5092915050565b6000600a8581548110613534576135346147b2565b6000918252602091829020604080516101008101825260069093029091018054835260018101546001600160a01b0381169484019490945260ff600160a01b85048116151592840192909252600160a81b90930416158015606083015260028301546080830152600383015460a0830152600483015460c083015260059092015460e0820152915061372c5760208101516135da906001600160a01b0316333087613ff0565b600854602082015160405163f182178360e01b81526001600160a01b03918216600482015260248101879052600092919091169063f182178390604401602060405180830381865afa158015613634573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906136589190614a52565b905060008482111561367b57613678858561367382866147de565b614121565b90505b60006136878287614a3a565b90506000818411156136a05761369d82856147de565b90505b600854602086015160405163bc157ac160e01b8152600481018b90526001600160a01b0391821660248201526044810184905291169063bc157ac1906064016020604051808303816000875af11580156136fe573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906137229190614a52565b50505050506137f3565b600854602082015161374d916001600160a01b039182169133911687613ff0565b600061375c8484600019614121565b6008549091506001600160a01b03166340c10f193061377b8488614a3a565b6040517fffffffff0000000000000000000000000000000000000000000000000000000060e085901b1681526001600160a01b0390921660048301526024820152604401600060405180830381600087803b1580156137d957600080fd5b505af11580156137ed573d6000803e3d6000fd5b50505050505b6040516356e4bb9760e11b8152306004820152602481018490527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03169063adc9772e906044016020604051808303816000875af1158015613860573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906133099190614a52565b6001600160a01b03848116600090815260066020526040908190208054825160a08101938490526319a948db60e21b90935260a483018790529290919081907f0000000000000000000000000000000000000000000000000000000000000000166366a5236c60c48301602060405180830381865afa15801561390b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061392f9190614a52565b815265ffffffffffff4281166020808401919091529681166040808401919091526000606080850182905297831660809485015285546001818101885596825290899020855160029092020190815597840151979094018054948401519684015193909201518116600160901b0265ffffffffffff60901b19938216600160601b029390931677ffffffffffffffffffffffff00000000000000000000000019968216600160301b026bffffffffffffffffffffffff1990951697909116969096179290921793909316939093179190911790915592915050565b6000600c8381548110613a1f57613a1f6147b2565b60009182526020918290206040805160e081018252919092015465ffffffffffff808216808452600160301b8304821695840195909552600160601b8204811693830193909352600160901b810483166060830152600160c01b81049092166080820181905260ff600160f01b8404811660a0840152600160f81b909304909216151560c08201529250613ab291614a86565b65ffffffffffff168265ffffffffffff1610613f1a576000600a8481548110613add57613add6147b2565b60009182526020808320604080516101008101825260069094029091018054845260018101546001600160a01b0381169385019390935260ff600160a01b84048116151592850192909252600160a81b909204161515606083015260028101546080830152600381015460a0830152600481015460c08301526005015460e0820152600b8054919350859187908110613b7857613b786147b2565b906000526020600020906004020160020160069054906101000a900465ffffffffffff16613ba69190614b1a565b65ffffffffffff1690506000613bbb86613311565b905060008360400151613bcf578351613c10565b60a0850151613bdf90600a61499e565b84518390613bfc906ec097ce7bc90715b34b9f10000000006149ad565b613c0691906149cc565b613c1091906149cc565b905082856060015165ffffffffffff1682613c2b91906149ad565b613c3591906149cc565b600a8881548110613c4857613c486147b2565b906000526020600020906006020160030181905550600083866040015165ffffffffffff1683613c7891906149ad565b613c8291906149cc565b9050600081600860009054906101000a90046001600160a01b03166001600160a01b031663860f50486040518163ffffffff1660e01b8152600401602060405180830381865afa158015613cda573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190613cfe9190614a52565b613d0890866149ad565b613d1291906149cc565b9050887f78f9c01d72705dba80d6ce051d36a1f987bf2a3800fee938c111a2ae741e57d1600b8b81548110613d4957613d496147b2565b90600052602060002090600402016001015483604051613d73929190918252602082015260400190565b60405180910390a2600b8981548110613d8e57613d8e6147b2565b9060005260206000209060040201600101548110613dd45780600b8a81548110613dba57613dba6147b2565b906000526020600020906004020160010181905550613ed8565b600081600b8b81548110613dea57613dea6147b2565b906000526020600020906004020160010154613e0691906147de565b905060405180608001604052808281526020018a65ffffffffffff168152602001896080015165ffffffffffff16815260200160011515815250600d60008c81526020019081526020016000206000820151816000015560208201518160010160006101000a81548165ffffffffffff021916908365ffffffffffff16021790555060408201518160010160066101000a81548165ffffffffffff021916908365ffffffffffff160217905550606082015181600101600c6101000a81548160ff021916908315150217905550905050505b87600c8a81548110613eec57613eec6147b2565b6000918252602090912001805465ffffffffffff191665ffffffffffff929092169190911790555050505050505b505050565b600854604080516310c1ea0960e31b815290516000926001600160a01b03169163860f50489160048083019260209291908290030181865afa158015613f69573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190613f8d9190614a52565b600c8381548110613fa057613fa06147b2565b600091825260209091200154613fc190600160f01b900460ff16600a61499e565b600a8481548110613fd457613fd46147b2565b90600052602060002090600602016002015461095a91906149ad565b604080516001600160a01b0385811660248301528481166044830152606480830185905283518084039091018152608490920183526020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff166323b872dd60e01b17905291516000928392908816916140699190614b66565b6000604051808303816000865af19150503d80600081146140a6576040519150601f19603f3d011682016040523d82523d6000602084013e6140ab565b606091505b50915091508180156140d55750805115806140d55750808060200190518101906140d591906149ee565b6133095760405162461bcd60e51b815260206004820152601460248201527f5452414e534645525f46524f4d5f4641494c454400000000000000000000000060448201526064016107f3565b6000806127106002548661413591906149ad565b61413f91906149cc565b905060006127106003548761415491906149ad565b61415e91906149cc565b90508361416b8284614a3a565b111561419d5783811161417e5780614180565b835b905080841161419057600061419a565b61419a81856147de565b91505b6001600160a01b03851660009081526005602052604090205460ff1615614297576001600160a01b038516600090815260046020526040812080548392906141e6908490614a3a565b909155505060015460408051630229549960e51b8152905184926004926000926001600160a01b039092169163452a93209180860191602091819003870181865afa158015614239573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061425d91906147f5565b6001600160a01b03166001600160a01b03168152602001908152602001600020600082825461428c9190614a3a565b909155506143469050565b6142a18183614a3a565b60015460408051630229549960e51b815290516004926000926001600160a01b039091169163452a93209180860191602091819003870181865afa1580156142ed573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061431191906147f5565b6001600160a01b03166001600160a01b0316815260200190815260200160002060008282546143409190614a3a565b90915550505b6143508183614a3a565b9695505050505050565b6001600160a01b038116811461436f57600080fd5b50565b60006020828403121561438457600080fd5b81356107418161435a565b6000602082840312156143a157600080fd5b5035919050565b634e487b7160e01b600052604160045260246000fd5b6040805190810167ffffffffffffffff811182821017156143e1576143e16143a8565b60405290565b6040516080810167ffffffffffffffff811182821017156143e1576143e16143a8565b604051601f8201601f1916810167ffffffffffffffff81118282101715614433576144336143a8565b604052919050565b60006040516060810181811067ffffffffffffffff82111715614460576144606143a8565b604052905080606083018481111561447757600080fd5b835b81811015614491578035835260209283019201614479565b50505092915050565b801515811461436f57600080fd5b600082601f8301126144b957600080fd5b6144c16143be565b8060408401858111156144d357600080fd5b845b818110156113d05780358452602093840193016144d5565b63ffffffff8116811461436f57600080fd5b600082601f83011261451057600080fd5b6145186143be565b80604084018581111561452a57600080fd5b845b818110156113d057803561453f816144ed565b84526020938401930161452c565b6000806000806000610180868803121561456657600080fd5b85356145718161435a565b94506020603f8701881361458457600080fd5b6145908882890161443b565b945087609f8801126145a157600080fd5b6145a96143e7565b8061010089018a8111156145bc57600080fd5b60808a015b818110156145e15780356145d48161449a565b84529284019284016145c1565b508196506145ef8b826144a8565b9550505050506146038761014088016144ff565b90509295509295909350565b6020808252825182820181905260009190848201906040850190845b818110156146475783518352928401929184019160010161462b565b50909695505050505050565b6000806040838503121561466657600080fd5b50508035926020909101359150565b600080600080600060a0868803121561468d57600080fd5b85359450602086013593506040860135925060608601356146ad8161435a565b915060808601356146bd8161435a565b809150509295509295909350565b600080604083850312156146de57600080fd5b82356146e98161435a565b946020939093013593505050565b6000806040838503121561470a57600080fd5b82356147158161435a565b915060208381013567ffffffffffffffff8082111561473357600080fd5b818601915086601f83011261474757600080fd5b813581811115614759576147596143a8565b8060051b915061476a84830161440a565b818152918301840191848101908984111561478457600080fd5b938501935b838510156147a257843582529385019390850190614789565b8096505050505050509250929050565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052601160045260246000fd5b6000828210156147f0576147f06147c8565b500390565b60006020828403121561480757600080fd5b81516107418161435a565b600060208083526000845481600182811c91508083168061483457607f831692505b85831081141561485257634e487b7160e01b85526022600452602485fd5b87860183815260200181801561486f5760018114614880576148ab565b60ff198616825287820196506148ab565b60008b81526020902060005b868110156148a55781548482015290850190890161488c565b83019750505b50949998505050505050505050565b600181815b808511156148f55781600019048211156148db576148db6147c8565b808516156148e857918102915b93841c93908002906148bf565b509250929050565b60008261490c57506001610902565b8161491957506000610902565b816001811461492f576002811461493957614955565b6001915050610902565b60ff84111561494a5761494a6147c8565b50506001821b610902565b5060208310610133831016604e8410600b8410161715614978575081810a610902565b61498283836148ba565b8060001904821115614996576149966147c8565b029392505050565b600061074160ff8416836148fd565b60008160001904831182151516156149c7576149c76147c8565b500290565b6000826149e957634e487b7160e01b600052601260045260246000fd5b500490565b600060208284031215614a0057600080fd5b81516107418161449a565b600060208284031215614a1d57600080fd5b815160ff8116811461074157600080fd5b600061074183836148fd565b60008219821115614a4d57614a4d6147c8565b500190565b600060208284031215614a6457600080fd5b5051919050565b6000600019821415614a7f57614a7f6147c8565b5060010190565b600065ffffffffffff808316818516808303821115614aa757614aa76147c8565b01949350505050565b80516dffffffffffffffffffffffffffff81168114614ace57600080fd5b919050565b600080600060608486031215614ae857600080fd5b614af184614ab0565b9250614aff60208501614ab0565b91506040840151614b0f816144ed565b809150509250925092565b600065ffffffffffff83811690831681811015614b3957614b396147c8565b039392505050565b600060ff821660ff84168060ff03821115614b5e57614b5e6147c8565b019392505050565b6000825160005b81811015614b875760208186018101518583015201614b6d565b81811115614b96576000828501525b50919091019291505056fea164736f6c634300080a000a",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106102775760003560e01c8063a422061011610160578063c3e0fb1c116100d8578063e0b117ff1161008c578063e481b26511610071578063e481b265146106d2578063f1b7dc78146106e5578063f3191a46146106f857600080fd5b8063e0b117ff1461062b578063e3684e391461067357600080fd5b8063d2390aa2116100bd578063d2390aa2146105e2578063d6db4df8146105f5578063d936547e1461060857600080fd5b8063c3e0fb1c146105b2578063c9b67af5146105da57600080fd5b8063bcb296671161012f578063bf7e214f11610114578063bf7e214f14610544578063c0680e2014610557578063c0aa0e8a1461056a57600080fd5b8063bcb296671461051e578063be399be51461053157600080fd5b8063a422061014610424578063abbf4b1714610437578063b1283e771461044a578063bc3b2b12146104a657600080fd5b8063530e784f116101f35780637a9e5e4b116101c257806384a07dcb116101a757806384a07dcb146103f65780639b19251a146104095780639c7697871461041c57600080fd5b80637a9e5e4b146103b55780637c770aae146103c857600080fd5b8063530e784f1461035c578063649144391461036f578063654e51e71461038f5780636a6c575d146103a257600080fd5b80632630c12f1161024a5780633adec5a71161022f5780633adec5a71461032e5780633d18b912146103415780634889bf6d1461034957600080fd5b80632630c12f146102e0578063275074581461030b57600080fd5b80630700037d1461027c5780630a9d85eb146102af5780630aebeb4e146102c25780631885f580146102d7575b600080fd5b61029c61028a366004614372565b60046020526000908152604090205481565b6040519081526020015b60405180910390f35b61029c6102bd36600461438f565b610701565b6102d56102d036600461438f565b610748565b005b61029c60025481565b6009546102f3906001600160a01b031681565b6040516001600160a01b0390911681526020016102a6565b61031e61031936600461438f565b610897565b60405190151581526020016102a6565b61029c61033c36600461438f565b610908565b6102d5610964565b61029c61035736600461454d565b610a10565b6102d561036a366004614372565b61117e565b61038261037d366004614372565b61124c565b6040516102a6919061460f565b6102d561039d366004614653565b6113db565b61029c6103b0366004614653565b611492565b6102d56103c3366004614372565b611579565b6103db6103d6366004614675565b61166f565b604080519384526020840192909252908201526060016102a6565b61029c61040436600461438f565b6119e0565b6102d5610417366004614372565b6120dc565b6102d56121b1565b61029c6104323660046146cb565b612445565b61029c61044536600461438f565b6126d8565b61045d61045836600461438f565b6127bb565b604080519889526001600160a01b039097166020890152941515958701959095529115156060860152608085015260a084015260c083019190915260e0820152610100016102a6565b6104ed6104b436600461438f565b600d602052600090815260409020805460019091015465ffffffffffff80821691600160301b810490911690600160601b900460ff1684565b6040516102a6949392919093845265ffffffffffff9283166020850152911660408301521515606082015260800190565b61029c61052c36600461438f565b61281e565b61029c61053f366004614372565b612858565b6001546102f3906001600160a01b031681565b61029c6105653660046146cb565b612867565b61057d61057836600461438f565b612898565b604080519515158652602086019490945265ffffffffffff92831693850193909352166060830152608082015260a0016102a6565b6105c56105c03660046146cb565b6128ea565b604080519283529015156020830152016102a6565b6103826129b5565b61029c6105f03660046146f7565b612a9e565b6102d56106033660046146cb565b612c16565b61031e610616366004614372565b60056020526000908152604090205460ff1681565b61063e6106393660046146cb565b612cd8565b6040805195865265ffffffffffff9485166020870152928416928501929092528216606084015216608082015260a0016102a6565b61068661068136600461438f565b612d3b565b6040805165ffffffffffff98891681529688166020880152948716948601949094529185166060850152909316608083015260ff90921660a082015290151560c082015260e0016102a6565b6103826106e0366004614372565b612da3565b61029c6106f336600461438f565b612fc8565b61029c60035481565b60008061070d83613073565b5050905080600b8481548110610725576107256147b2565b90600052602060002090600402016001015461074191906147de565b9392505050565b600160009054906101000a90046001600160a01b03166001600160a01b0316630505c8c96040518163ffffffff1660e01b8152600401602060405180830381865afa15801561079b573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906107bf91906147f5565b6001600160a01b0316336001600160a01b0316146000906107fc5760405162461bcd60e51b81526004016107f39190614812565b60405180910390fd5b5042600b8281548110610811576108116147b2565b906000526020600020906004020160020160066101000a81548165ffffffffffff021916908365ffffffffffff1602179055506000600a8281548110610859576108596147b2565b6000918252602082206006909102019190915560405182917f8401d05adbea6548a6999cc1540766e6d2ff919292142862893d0e62ec79fbe591a250565b6000600a82815481106108ac576108ac6147b2565b906000526020600020906006020160000154600014158015610902575042600b83815481106108dd576108dd6147b2565b6000918252602090912060049091020160020154600160301b900465ffffffffffff16115b92915050565b6000600c828154811061091d5761091d6147b2565b60009182526020909120015461093e90600160f01b900460ff16600a61499e565b61094783612fc8565b61095084610701565b61095a91906149ad565b61090291906149cc565b33600081815260046020819052604080832080549390555163a9059cbb60e01b81529081019290925260248201819052906001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169063a9059cbb906044016020604051808303816000875af11580156109e8573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610a0c91906149ee565b5050565b60015460408051630505c8c960e01b815290516000926001600160a01b031691630505c8c99160048083019260209291908290030181865afa158015610a5a573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610a7e91906147f5565b6001600160a01b0316336001600160a01b031614600090610ab25760405162461bcd60e51b81526004016107f39190614812565b506020830151600090610ac69042906147de565b90506000876001600160a01b031663313ce5676040518163ffffffff1660e01b8152600401602060405180830381865afa158015610b08573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610b2c9190614a0b565b60ff169050600086816020020151610b45578751610b84565b610b5082600a614a2e565b60208901518951610b70906ec097ce7bc90715b34b9f10000000006149ad565b610b7a91906149cc565b610b8491906149cc565b85519091506000908490610b9e9063ffffffff16846149ad565b610ba891906149cc565b90506000620186a08a60026020020151610bc290856149ad565b610bcc91906149cc565b610bd69084614a3a565b9050600083600860009054906101000a90046001600160a01b03166001600160a01b031663860f50486040518163ffffffff1660e01b8152600401602060405180830381865afa158015610c2e573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610c529190614a52565b60208d0151610c6191906149ad565b610c6b91906149cc565b600a805460408051610100810190915290995091925090808d6000602002015181526020018e6001600160a01b031681526020018c600060048110610cb257610cb26147b2565b6020020151151581526020018c600160048110610cd157610cd16147b2565b6020908102919091015115158252818101889052604080830188905260006060808501829052608094850182905286546001808201895597835291849020865160069093020191825585840151828801805488860151898501511515600160a81b027fffffffffffffffffffff00ffffffffffffffffffffffffffffffffffffffffff911515600160a01b027fffffffffffffffffffffff0000000000000000000000000000000000000000009093166001600160a01b0390951694909417919091171691909117905593850151600282015560a080860151600383015560c0860151600483015560e090950151600590910155805193840181528e830151151584529083018590528c5165ffffffffffff1690830152600b92908201908c906020908102919091015165ffffffffffff90811683529181018690528354600180820186556000958652948290208451600490920201805491151560ff199092169190911781558382015194810194909455604080840151600280870180546060808901518816600160301b026bffffffffffffffffffffffff1990921694881694909417179055608095860151600390970196909655815160e08101835242851680825281850152938c16918401919091528c5163ffffffff90811691840191909152908c0151169181019190915260ff871660a0820152600c9160c08201908d90602002015115158152509080600181540180825580915050600190039060005260206000200160009091909190915060008201518160000160006101000a81548165ffffffffffff021916908365ffffffffffff16021790555060208201518160000160066101000a81548165ffffffffffff021916908365ffffffffffff160217905550604082015181600001600c6101000a81548165ffffffffffff021916908365ffffffffffff16021790555060608201518160000160126101000a81548165ffffffffffff021916908365ffffffffffff16021790555060808201518160000160186101000a81548165ffffffffffff021916908365ffffffffffff16021790555060a082015181600001601e6101000a81548160ff021916908360ff16021790555060c082015181600001601f6101000a81548160ff0219169083151502179055505050600e60008d6001600160a01b03166001600160a01b031681526020019081526020016000208790806001815401808255809150506001900390600052602060002001600090919091909150558960016004811061107c5761107c6147b2565b6020020151156111005760085460405163095ea7b360e01b81526001600160a01b0391821660048201526000196024820152908d169063095ea7b3906044016020604051808303816000875af11580156110da573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906110fe91906149ee565b505b6001600160a01b03808d16907f000000000000000000000000000000000000000000000000000000000000000016887f2f6ff727bd580b1d1b8332e28aa93ed4ec9d8b08d6e30d6b4c9f7aa63ca17f638e6001602002015160405161116791815260200190565b60405180910390a450505050505095945050505050565b600160009054906101000a90046001600160a01b03166001600160a01b0316630c340a246040518163ffffffff1660e01b8152600401602060405180830381865afa1580156111d1573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906111f591906147f5565b6001600160a01b0316336001600160a01b0316146000906112295760405162461bcd60e51b81526004016107f39190614812565b50600980546001600160a01b0319166001600160a01b0392909216919091179055565b6001600160a01b0381166000908152600e602090815260408083208054825181850281018501909352808352606094938301828280156112ab57602002820191906000526020600020905b815481526020019060010190808311611297575b50505050509050600080600090505b825181101561130a576112e58382815181106112d8576112d86147b2565b6020026020010151610897565b156112f857816112f481614a6b565b9250505b8061130281614a6b565b9150506112ba565b5060008167ffffffffffffffff811115611326576113266143a8565b60405190808252806020026020018201604052801561134f578160200160208202803683370190505b5090506000805b84518110156113d0576113748582815181106112d8576112d86147b2565b156113be5784818151811061138b5761138b6147b2565b60200260200101518383815181106113a5576113a56147b2565b6020908102919091010152816113ba81614a6b565b9250505b806113c881614a6b565b915050611356565b509095945050505050565b600160009054906101000a90046001600160a01b03166001600160a01b0316630c340a246040518163ffffffff1660e01b8152600401602060405180830381865afa15801561142e573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061145291906147f5565b6001600160a01b0316336001600160a01b0316146000906114865760405162461bcd60e51b81526004016107f39190614812565b50600391909155600255565b600080600c83815481106114a8576114a86147b2565b60009182526020918290206040805160e081018252919092015465ffffffffffff8082168352600160301b8204811694830194909452600160601b8104841692820192909252600160901b820483166060820152600160c01b8204909216608083015260ff600160f01b8204811660a08401819052600160f81b90920416151560c083015290915061153b90600a61499e565b61154484610908565b61155d866ec097ce7bc90715b34b9f10000000006149ad565b61156791906149cc565b61157191906149cc565b949350505050565b600160009054906101000a90046001600160a01b03166001600160a01b0316630c340a246040518163ffffffff1660e01b8152600401602060405180830381865afa1580156115cc573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906115f091906147f5565b6001600160a01b0316336001600160a01b0316146000906116245760405162461bcd60e51b81526004016107f39190614812565b50600180546001600160a01b0319166001600160a01b0383169081179091556040517f2f658b440c35314f52658ea8a740e05b284cdc84dc9ae01e891f21b8933e7cad90600090a250565b600080600080600a8981548110611688576116886147b2565b906000526020600020906006020190506000600b8a815481106116ad576116ad6147b2565b60009182526020918290206040805160a0810182526004909302909101805460ff1615158352600181015493830193909352600283015465ffffffffffff80821692840192909252600160301b900481166060830181905260039093015460808301529092504291908216106117655760405162461bcd60e51b815260206004820152601c60248201527f4465706f7369746f72793a206d61726b657420636f6e636c756465640000000060448201526064016107f3565b61176f8b82613155565b600061177a8c613311565b9050898111156117cc5760405162461bcd60e51b815260206004820152601f60248201527f4465706f7369746f72793a206d6f7265207468616e206d61782070726963650060448201526064016107f3565b600c8c815481106117df576117df6147b2565b60009182526020909120015461180090600160f01b900460ff16600a61499e565b8161181a8d6ec097ce7bc90715b34b9f10000000006149ad565b61182491906149cc565b61182e91906149cc565b965083600301548711156118845760405162461bcd60e51b815260206004820152601d60248201527f4465706f7369746f72793a206d61782073697a6520657863656564656400000060448201526064016107f3565b6001840154600160a01b900460ff1661189d578661189f565b8a5b8460000160008282546118b291906147de565b909155505082516118c75782604001516118d7565b8183604001516118d79190614a86565b65ffffffffffff1695508a8460050160008282546118f59190614a3a565b92505081905550868460040160008282546119109190614a3a565b925050819055508684600201600082825461192b9190614a3a565b9091555050604080518c8152602081018390528d917f7880508a48fd3aee88f7e15917d85e39c3ad059e51ad4aca9bb46e7b4938b961910160405180910390a2506119788b8b888a61351f565b6119848887878e613884565b93508260020154826080015110156119c85760008084556040518c917f8401d05adbea6548a6999cc1540766e6d2ff919292142862893d0e62ec79fbe591a26119d2565b6119d28b82613a0a565b505050955095509592505050565b600080600a83815481106119f6576119f66147b2565b60009182526020808320604080516101008101825260069094029091018054845260018101546001600160a01b0381169385019390935260ff600160a01b84048116151592850192909252600160a81b909204161515606083015260028101546080830152600381015460a0830152600481015460c08301526005015460e0820152600c80549193509085908110611a9057611a906147b2565b60009182526020918290206040805160e081018252919092015465ffffffffffff8082168352600160301b8204811694830194909452600160601b8104841692820192909252600160901b820483166060820152600160c01b8204909216608083015260ff600160f01b8204811660a0840152600160f81b9091041615801560c0830152909150612034576000826020015190506000816001600160a01b0316630dfe16816040518163ffffffff1660e01b8152600401602060405180830381865afa158015611b64573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611b8891906147f5565b90506000826001600160a01b031663d21220a76040518163ffffffff1660e01b8152600401602060405180830381865afa158015611bca573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611bee91906147f5565b9050600080846001600160a01b0316630902f1ac6040518163ffffffff1660e01b8152600401606060405180830381865afa158015611c31573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611c559190614ad3565b506dffffffffffffffffffffffffffff1691506dffffffffffffffffffffffffffff1691507f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316846001600160a01b03161480611ceb57507f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316846001600160a01b0316145b15611cf95791929190611db6565b7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316836001600160a01b03161480611d6a57507f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316836001600160a01b0316145b611db65760405162461bcd60e51b815260206004820152600c60248201527f496e76616c69642070616972000000000000000000000000000000000000000060448201526064016107f3565b6000846001600160a01b031663313ce5676040518163ffffffff1660e01b8152600401602060405180830381865afa158015611df6573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611e1a9190614a0b565b600954604051632321bc7960e21b81526001600160a01b038881166004830152670de0b6b3a76400006024830152878116604483015260ff93909316935060009290911690638c86f1e490606401602060405180830381865afa158015611e85573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611ea99190614a52565b90506000611eb883600a614a2e565b611ec283876149ad565b611ecc91906149cc565b611ed69085614a3a565b9050600081896001600160a01b03166318160ddd6040518163ffffffff1660e01b8152600401602060405180830381865afa158015611f19573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611f3d9190614a52565b611f4f90670de0b6b3a76400006149ad565b611f5991906149cc565b90507f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316876001600160a01b03161415612024577f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316632986c0e56040518163ffffffff1660e01b8152600401602060405180830381865afa158015611ff3573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906120179190614a52565b61202190826149cc565b90505b9c9b505050505050505050505050565b6009546020830151604051632321bc7960e21b81526001600160a01b037f000000000000000000000000000000000000000000000000000000000000000081166004830152670de0b6b3a764000060248301529182166044820152911690638c86f1e490606401602060405180830381865afa1580156120b8573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906115719190614a52565b600160009054906101000a90046001600160a01b03166001600160a01b0316630505c8c96040518163ffffffff1660e01b8152600401602060405180830381865afa15801561212f573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061215391906147f5565b6001600160a01b0316336001600160a01b0316146000906121875760405162461bcd60e51b81526004016107f39190614812565b506001600160a01b03166000908152600560205260409020805460ff19811660ff90911615179055565b600160009054906101000a90046001600160a01b03166001600160a01b0316630c340a246040518163ffffffff1660e01b8152600401602060405180830381865afa158015612204573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061222891906147f5565b6001600160a01b0316336001600160a01b031614806122ce5750600160009054906101000a90046001600160a01b03166001600160a01b031663452a93206040518163ffffffff1660e01b8152600401602060405180830381865afa158015612295573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906122b991906147f5565b6001600160a01b0316336001600160a01b0316145b806123605750600160009054906101000a90046001600160a01b03166001600160a01b0316630505c8c96040518163ffffffff1660e01b8152600401602060405180830381865afa158015612327573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061234b91906147f5565b6001600160a01b0316336001600160a01b0316145b6123ac5760405162461bcd60e51b815260206004820152600f60248201527f4f6e6c7920617574686f72697a6564000000000000000000000000000000000060448201526064016107f3565b600160009054906101000a90046001600160a01b03166001600160a01b031663fbfa77cf6040518163ffffffff1660e01b8152600401602060405180830381865afa1580156123ff573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061242391906147f5565b600880546001600160a01b0319166001600160a01b0392909216919091179055565b6001600160a01b03828116600090815260076020908152604080832085845290915281205490911633146124bb5760405162461bcd60e51b815260206004820152601e60248201527f4465706f7369746f72793a207472616e73666572206e6f7420666f756e64000060448201526064016107f3565b6001600160a01b03831660009081526006602052604090208054839081106124e5576124e56147b2565b6000918252602090912060029091020160010154600160601b900465ffffffffffff16156125555760405162461bcd60e51b815260206004820152601960248201527f4465706f7369746f72793a206e6f74652072656465656d65640000000000000060448201526064016107f3565b503360009081526006602052604080822080546001600160a01b03861684529190922080549192918490811061258d5761258d6147b2565b600091825260208083208454600181810187559585528285206002948502909201805491909402909101908155918401805492909401805465ffffffffffff19811665ffffffffffff94851690811783558654600160301b908190048616026bffffffffffffffffffffffff1990921617178082558554600160601b9081900485160271ffffffffffff000000000000000000000000198216811783559554600160901b9081900490941690930265ffffffffffff60901b1990951677ffffffffffffffffffffffff00000000000000000000000019909316929092179390931790556001600160a01b0385168152600690915260409020805483908110612697576126976147b2565b60009182526020822060029091020190815560010180547fffffffffffffffff00000000000000000000000000000000000000000000000016905592915050565b600080600c83815481106126ee576126ee6147b2565b600091825260208083206040805160e081018252939091015465ffffffffffff8082168552600160301b82048116938501849052600160601b8204811692850192909252600160901b810482166060850152600160c01b8104909116608084015260ff600160f01b8204811660a0850152600160f81b90910416151560c083015290925061277c90426147de565b9050816040015165ffffffffffff1681600a868154811061279f5761279f6147b2565b90600052602060002090600602016002015461156791906149ad565b600a81815481106127cb57600080fd5b60009182526020909120600690910201805460018201546002830154600384015460048501546005909501549395506001600160a01b0383169460ff600160a01b8504811695600160a81b909504169388565b6000612829826126d8565b600a838154811061283c5761283c6147b2565b90600052602060002090600602016002015461090291906147de565b6000610902826105f084612da3565b600e602052816000526040600020818154811061288357600080fd5b90600052602060002001600091509150505481565b600b81815481106128a857600080fd5b6000918252602090912060049091020180546001820154600283015460039093015460ff90921693509165ffffffffffff80821692600160301b909204169085565b6001600160a01b038216600090815260066020526040812080548291829185908110612918576129186147b2565b60009182526020918290206040805160a0810182526002909302909101805480845260019091015465ffffffffffff80821695850195909552600160301b8104851692840192909252600160601b8204841660608401819052600160901b9092049093166080830152919450915015801561299f575042816040015165ffffffffffff1611155b80156129ab5750805115155b9150509250929050565b60606000805b600a548110156129f3576129ce81610897565b156129e157816129dd81614a6b565b9250505b806129eb81614a6b565b9150506129bb565b5060008167ffffffffffffffff811115612a0f57612a0f6143a8565b604051908082528060200260200182016040528015612a38578160200160208202803683370190505b5090506000805b600a54811015612a9557612a5281610897565b15612a835780838381518110612a6a57612a6a6147b2565b602090810291909101015281612a7f81614a6b565b9250505b80612a8d81614a6b565b915050612a3f565b50909392505050565b600042815b8351811015612b7a57600080612ad287878581518110612ac557612ac56147b2565b60200260200101516128ea565b915091508015612b65576001600160a01b03871660009081526006602052604090208651859190889086908110612b0b57612b0b6147b2565b602002602001015181548110612b2357612b236147b2565b9060005260206000209060020201600101600c6101000a81548165ffffffffffff021916908365ffffffffffff1602179055508185612b629190614a3a565b94505b50508080612b7290614a6b565b915050612aa3565b5060405163a9059cbb60e01b81526001600160a01b038581166004830152602482018490527f0000000000000000000000000000000000000000000000000000000000000000169063a9059cbb906044016020604051808303816000875af1158015612bea573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612c0e91906149ee565b505092915050565b336000908152600660205260409020805482908110612c3757612c376147b2565b600091825260209091206001600290920201015465ffffffffffff16612c9f5760405162461bcd60e51b815260206004820152601a60248201527f4465706f7369746f72793a206e6f7465206e6f7420666f756e6400000000000060448201526064016107f3565b3360009081526007602090815260408083209383529290522080546001600160a01b0319166001600160a01b0392909216919091179055565b60066020528160005260406000208181548110612cf457600080fd5b60009182526020909120600290910201805460019091015490925065ffffffffffff8082169250600160301b8204811691600160601b8104821691600160901b9091041685565b600c8181548110612d4b57600080fd5b60009182526020909120015465ffffffffffff8082169250600160301b8204811691600160601b8104821691600160901b8204811691600160c01b81049091169060ff600160f01b8204811691600160f81b90041687565b6001600160a01b0381166000908152600660209081526040808320805482518185028101850190935280835260609493849084015b82821015612e4e5760008481526020908190206040805160a081018252600286029092018054835260019081015465ffffffffffff80821685870152600160301b8204811693850193909352600160601b810483166060850152600160901b900490911660808301529083529092019101612dd8565b505050509050600080600090505b8251811015612edd57828181518110612e7757612e776147b2565b60200260200101516060015165ffffffffffff166000148015612eb85750828181518110612ea757612ea76147b2565b602002602001015160000151600014155b15612ecb5781612ec781614a6b565b9250505b80612ed581614a6b565b915050612e5c565b5060008167ffffffffffffffff811115612ef957612ef96143a8565b604051908082528060200260200182016040528015612f22578160200160208202803683370190505b5090506000805b84518110156113d057848181518110612f4457612f446147b2565b60200260200101516060015165ffffffffffff166000148015612f855750848181518110612f7457612f746147b2565b602002602001015160000151600014155b15612fb65780838381518110612f9d57612f9d6147b2565b602090810291909101015281612fb281614a6b565b9250505b80612fc081614a6b565b915050612f29565b600854604080516310c1ea0960e31b815290516000926001600160a01b03169163860f50489160048083019260209291908290030181865afa158015613012573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906130369190614a52565b600c8381548110613049576130496147b2565b60009182526020909120015461306a90600160f01b900460ff16600a61499e565b6109508461281e565b6000818152600d6020908152604080832081516080810183528154815260019091015465ffffffffffff80821694830194909452600160301b810490931691810191909152600160601b90910460ff16151560608201819052829182916130e55760008060009350935093505061314e565b60208101516130f49042614b1a565b9250806040015165ffffffffffff168365ffffffffffff161091508161311b57805161314a565b806040015165ffffffffffff168365ffffffffffff16826000015161314091906149ad565b61314a91906149cc565b9350505b9193909250565b61315e826126d8565b600a8381548110613171576131716147b2565b9060005260206000209060060201600201600082825461319191906147de565b9250508190555080600c83815481106131ac576131ac6147b2565b60009182526020808320909101805465ffffffffffff94909416600160301b026bffffffffffff0000000000001990941693909317909255838152600d909152604090206001015460ff600160601b9091041615610a0c576000828152600d6020526040812090808061321e86613073565b92509250925082600b8781548110613238576132386147b2565b9060005260206000209060040201600101600082825461325891906147de565b909155505080156132f0578284600001600082825461327791906147de565b90915550506001840180548391906006906132a2908490600160301b900465ffffffffffff16614b1a565b92506101000a81548165ffffffffffff021916908365ffffffffffff160217905550848460010160006101000a81548165ffffffffffff021916908365ffffffffffff160217905550613309565b6001840180546cff000000000000000000000000191690555b505050505050565b600080600c8381548110613327576133276147b2565b60009182526020909120015461334890600160f01b900460ff16600a61499e565b61335184613f1f565b600b8581548110613364576133646147b2565b90600052602060002090600402016001015461338091906149ad565b61338a91906149cc565b6009549091506001600160a01b0316156133b95760006133a9846119e0565b9050818110156133b7578091505b505b600854600a80546000926001600160a01b03169163f182178391879081106133e3576133e36147b2565b906000526020600020906006020160010160009054906101000a90046001600160a01b0316600c878154811061341b5761341b6147b2565b60009182526020909120015461343c90600160f01b900460ff16600a61499e565b6040517fffffffff0000000000000000000000000000000000000000000000000000000060e085901b1681526001600160a01b0390921660048301526024820152604401602060405180830381865afa15801561349d573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906134c19190614a52565b600c85815481106134d4576134d46147b2565b6000918252602090912001546134f590600160f01b900460ff166012614b41565b61350090600a61499e565b61350a91906149cc565b905080821015613518578091505b5092915050565b6000600a8581548110613534576135346147b2565b6000918252602091829020604080516101008101825260069093029091018054835260018101546001600160a01b0381169484019490945260ff600160a01b85048116151592840192909252600160a81b90930416158015606083015260028301546080830152600383015460a0830152600483015460c083015260059092015460e0820152915061372c5760208101516135da906001600160a01b0316333087613ff0565b600854602082015160405163f182178360e01b81526001600160a01b03918216600482015260248101879052600092919091169063f182178390604401602060405180830381865afa158015613634573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906136589190614a52565b905060008482111561367b57613678858561367382866147de565b614121565b90505b60006136878287614a3a565b90506000818411156136a05761369d82856147de565b90505b600854602086015160405163bc157ac160e01b8152600481018b90526001600160a01b0391821660248201526044810184905291169063bc157ac1906064016020604051808303816000875af11580156136fe573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906137229190614a52565b50505050506137f3565b600854602082015161374d916001600160a01b039182169133911687613ff0565b600061375c8484600019614121565b6008549091506001600160a01b03166340c10f193061377b8488614a3a565b6040517fffffffff0000000000000000000000000000000000000000000000000000000060e085901b1681526001600160a01b0390921660048301526024820152604401600060405180830381600087803b1580156137d957600080fd5b505af11580156137ed573d6000803e3d6000fd5b50505050505b6040516356e4bb9760e11b8152306004820152602481018490527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03169063adc9772e906044016020604051808303816000875af1158015613860573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906133099190614a52565b6001600160a01b03848116600090815260066020526040908190208054825160a08101938490526319a948db60e21b90935260a483018790529290919081907f0000000000000000000000000000000000000000000000000000000000000000166366a5236c60c48301602060405180830381865afa15801561390b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061392f9190614a52565b815265ffffffffffff4281166020808401919091529681166040808401919091526000606080850182905297831660809485015285546001818101885596825290899020855160029092020190815597840151979094018054948401519684015193909201518116600160901b0265ffffffffffff60901b19938216600160601b029390931677ffffffffffffffffffffffff00000000000000000000000019968216600160301b026bffffffffffffffffffffffff1990951697909116969096179290921793909316939093179190911790915592915050565b6000600c8381548110613a1f57613a1f6147b2565b60009182526020918290206040805160e081018252919092015465ffffffffffff808216808452600160301b8304821695840195909552600160601b8204811693830193909352600160901b810483166060830152600160c01b81049092166080820181905260ff600160f01b8404811660a0840152600160f81b909304909216151560c08201529250613ab291614a86565b65ffffffffffff168265ffffffffffff1610613f1a576000600a8481548110613add57613add6147b2565b60009182526020808320604080516101008101825260069094029091018054845260018101546001600160a01b0381169385019390935260ff600160a01b84048116151592850192909252600160a81b909204161515606083015260028101546080830152600381015460a0830152600481015460c08301526005015460e0820152600b8054919350859187908110613b7857613b786147b2565b906000526020600020906004020160020160069054906101000a900465ffffffffffff16613ba69190614b1a565b65ffffffffffff1690506000613bbb86613311565b905060008360400151613bcf578351613c10565b60a0850151613bdf90600a61499e565b84518390613bfc906ec097ce7bc90715b34b9f10000000006149ad565b613c0691906149cc565b613c1091906149cc565b905082856060015165ffffffffffff1682613c2b91906149ad565b613c3591906149cc565b600a8881548110613c4857613c486147b2565b906000526020600020906006020160030181905550600083866040015165ffffffffffff1683613c7891906149ad565b613c8291906149cc565b9050600081600860009054906101000a90046001600160a01b03166001600160a01b031663860f50486040518163ffffffff1660e01b8152600401602060405180830381865afa158015613cda573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190613cfe9190614a52565b613d0890866149ad565b613d1291906149cc565b9050887f78f9c01d72705dba80d6ce051d36a1f987bf2a3800fee938c111a2ae741e57d1600b8b81548110613d4957613d496147b2565b90600052602060002090600402016001015483604051613d73929190918252602082015260400190565b60405180910390a2600b8981548110613d8e57613d8e6147b2565b9060005260206000209060040201600101548110613dd45780600b8a81548110613dba57613dba6147b2565b906000526020600020906004020160010181905550613ed8565b600081600b8b81548110613dea57613dea6147b2565b906000526020600020906004020160010154613e0691906147de565b905060405180608001604052808281526020018a65ffffffffffff168152602001896080015165ffffffffffff16815260200160011515815250600d60008c81526020019081526020016000206000820151816000015560208201518160010160006101000a81548165ffffffffffff021916908365ffffffffffff16021790555060408201518160010160066101000a81548165ffffffffffff021916908365ffffffffffff160217905550606082015181600101600c6101000a81548160ff021916908315150217905550905050505b87600c8a81548110613eec57613eec6147b2565b6000918252602090912001805465ffffffffffff191665ffffffffffff929092169190911790555050505050505b505050565b600854604080516310c1ea0960e31b815290516000926001600160a01b03169163860f50489160048083019260209291908290030181865afa158015613f69573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190613f8d9190614a52565b600c8381548110613fa057613fa06147b2565b600091825260209091200154613fc190600160f01b900460ff16600a61499e565b600a8481548110613fd457613fd46147b2565b90600052602060002090600602016002015461095a91906149ad565b604080516001600160a01b0385811660248301528481166044830152606480830185905283518084039091018152608490920183526020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff166323b872dd60e01b17905291516000928392908816916140699190614b66565b6000604051808303816000865af19150503d80600081146140a6576040519150601f19603f3d011682016040523d82523d6000602084013e6140ab565b606091505b50915091508180156140d55750805115806140d55750808060200190518101906140d591906149ee565b6133095760405162461bcd60e51b815260206004820152601460248201527f5452414e534645525f46524f4d5f4641494c454400000000000000000000000060448201526064016107f3565b6000806127106002548661413591906149ad565b61413f91906149cc565b905060006127106003548761415491906149ad565b61415e91906149cc565b90508361416b8284614a3a565b111561419d5783811161417e5780614180565b835b905080841161419057600061419a565b61419a81856147de565b91505b6001600160a01b03851660009081526005602052604090205460ff1615614297576001600160a01b038516600090815260046020526040812080548392906141e6908490614a3a565b909155505060015460408051630229549960e51b8152905184926004926000926001600160a01b039092169163452a93209180860191602091819003870181865afa158015614239573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061425d91906147f5565b6001600160a01b03166001600160a01b03168152602001908152602001600020600082825461428c9190614a3a565b909155506143469050565b6142a18183614a3a565b60015460408051630229549960e51b815290516004926000926001600160a01b039091169163452a93209180860191602091819003870181865afa1580156142ed573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061431191906147f5565b6001600160a01b03166001600160a01b0316815260200190815260200160002060008282546143409190614a3a565b90915550505b6143508183614a3a565b9695505050505050565b6001600160a01b038116811461436f57600080fd5b50565b60006020828403121561438457600080fd5b81356107418161435a565b6000602082840312156143a157600080fd5b5035919050565b634e487b7160e01b600052604160045260246000fd5b6040805190810167ffffffffffffffff811182821017156143e1576143e16143a8565b60405290565b6040516080810167ffffffffffffffff811182821017156143e1576143e16143a8565b604051601f8201601f1916810167ffffffffffffffff81118282101715614433576144336143a8565b604052919050565b60006040516060810181811067ffffffffffffffff82111715614460576144606143a8565b604052905080606083018481111561447757600080fd5b835b81811015614491578035835260209283019201614479565b50505092915050565b801515811461436f57600080fd5b600082601f8301126144b957600080fd5b6144c16143be565b8060408401858111156144d357600080fd5b845b818110156113d05780358452602093840193016144d5565b63ffffffff8116811461436f57600080fd5b600082601f83011261451057600080fd5b6145186143be565b80604084018581111561452a57600080fd5b845b818110156113d057803561453f816144ed565b84526020938401930161452c565b6000806000806000610180868803121561456657600080fd5b85356145718161435a565b94506020603f8701881361458457600080fd5b6145908882890161443b565b945087609f8801126145a157600080fd5b6145a96143e7565b8061010089018a8111156145bc57600080fd5b60808a015b818110156145e15780356145d48161449a565b84529284019284016145c1565b508196506145ef8b826144a8565b9550505050506146038761014088016144ff565b90509295509295909350565b6020808252825182820181905260009190848201906040850190845b818110156146475783518352928401929184019160010161462b565b50909695505050505050565b6000806040838503121561466657600080fd5b50508035926020909101359150565b600080600080600060a0868803121561468d57600080fd5b85359450602086013593506040860135925060608601356146ad8161435a565b915060808601356146bd8161435a565b809150509295509295909350565b600080604083850312156146de57600080fd5b82356146e98161435a565b946020939093013593505050565b6000806040838503121561470a57600080fd5b82356147158161435a565b915060208381013567ffffffffffffffff8082111561473357600080fd5b818601915086601f83011261474757600080fd5b813581811115614759576147596143a8565b8060051b915061476a84830161440a565b818152918301840191848101908984111561478457600080fd5b938501935b838510156147a257843582529385019390850190614789565b8096505050505050509250929050565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052601160045260246000fd5b6000828210156147f0576147f06147c8565b500390565b60006020828403121561480757600080fd5b81516107418161435a565b600060208083526000845481600182811c91508083168061483457607f831692505b85831081141561485257634e487b7160e01b85526022600452602485fd5b87860183815260200181801561486f5760018114614880576148ab565b60ff198616825287820196506148ab565b60008b81526020902060005b868110156148a55781548482015290850190890161488c565b83019750505b50949998505050505050505050565b600181815b808511156148f55781600019048211156148db576148db6147c8565b808516156148e857918102915b93841c93908002906148bf565b509250929050565b60008261490c57506001610902565b8161491957506000610902565b816001811461492f576002811461493957614955565b6001915050610902565b60ff84111561494a5761494a6147c8565b50506001821b610902565b5060208310610133831016604e8410600b8410161715614978575081810a610902565b61498283836148ba565b8060001904821115614996576149966147c8565b029392505050565b600061074160ff8416836148fd565b60008160001904831182151516156149c7576149c76147c8565b500290565b6000826149e957634e487b7160e01b600052601260045260246000fd5b500490565b600060208284031215614a0057600080fd5b81516107418161449a565b600060208284031215614a1d57600080fd5b815160ff8116811461074157600080fd5b600061074183836148fd565b60008219821115614a4d57614a4d6147c8565b500190565b600060208284031215614a6457600080fd5b5051919050565b6000600019821415614a7f57614a7f6147c8565b5060010190565b600065ffffffffffff808316818516808303821115614aa757614aa76147c8565b01949350505050565b80516dffffffffffffffffffffffffffff81168114614ace57600080fd5b919050565b600080600060608486031215614ae857600080fd5b614af184614ab0565b9250614aff60208501614ab0565b91506040840151614b0f816144ed565b809150509250925092565b600065ffffffffffff83811690831681811015614b3957614b396147c8565b039392505050565b600060ff821660ff84168060ff03821115614b5e57614b5e6147c8565b019392505050565b6000825160005b81811015614b875760208186018101518583015201614b6d565b81811115614b96576000828501525b50919091019291505056fea164736f6c634300080a000a",
  "devdoc": {
    "kind": "dev",
    "methods": {
      "close(uint256)": {
        "params": {
          "_id": "ID of market to close"
        }
      },
      "create(address,uint256[3],bool[4],uint256[2],uint32[2])": {
        "details": "current price should be in 18 decimals.",
        "params": {
          "_booleans": "[capacity in quote, quote is reserve, quote is LP, fixed term]",
          "_intervals": "[deposit interval (seconds), tune interval (seconds)]",
          "_market": "[capacity (in PANA or quote), initial price / PANA (18 decimals), debt buffer (3 decimals)]",
          "_quoteToken": "token used to deposit",
          "_terms": "[vesting length (if fixed term) or vested timestamp, conclusion timestamp]"
        },
        "returns": {
          "id_": "        ID of new bond market"
        }
      },
      "currentControlVariable(uint256)": {
        "details": "accounts for control variable adjustment",
        "params": {
          "_id": "ID of market"
        },
        "returns": {
          "_0": "control variable for market in PANA decimals"
        }
      },
      "currentDebt(uint256)": {
        "details": "accounts for debt decay since last deposit",
        "params": {
          "_id": "ID of market"
        },
        "returns": {
          "_0": "current debt for market in PANA decimals"
        }
      },
      "debtDecay(uint256)": {
        "params": {
          "_id": "ID of market"
        },
        "returns": {
          "_0": "amount of debt to decay"
        }
      },
      "debtRatio(uint256)": {
        "details": "uses current debt, which accounts for debt decay since last deposit (vs _debtRatio())",
        "params": {
          "_id": "ID of market"
        },
        "returns": {
          "_0": "debt ratio for market in quote decimals"
        }
      },
      "deposit(uint256,uint256,uint256,address,address)": {
        "params": {
          "_amount": "the amount of quote token to spend",
          "_id": "the ID of the market",
          "_maxPrice": "the maximum price at which to buy",
          "_referral": "the front end operator address",
          "_user": "the recipient of the payout"
        },
        "returns": {
          "expiry_": "    the timestamp at which payout is redeemable",
          "index_": "     the user index of the Note (used to redeem or query information)",
          "payout_": "    the amount of KARSHA due"
        }
      },
      "getOraclePrice(uint256)": {
        "params": {
          "_id": "ID of market"
        },
        "returns": {
          "_0": "oracle price for market in PANA decimals"
        }
      },
      "indexesFor(address)": {
        "params": {
          "_user": "the user to query notes for"
        },
        "returns": {
          "_0": "the pending notes for the user"
        }
      },
      "isLive(uint256)": {
        "params": {
          "_id": "ID of market"
        }
      },
      "liveMarketsFor(address)": {
        "params": {
          "_token": "quote token to check for"
        }
      },
      "marketPrice(uint256)": {
        "details": "accounts for debt and control variable decay since last deposit (vs _marketPrice())",
        "params": {
          "_id": "ID of market"
        },
        "returns": {
          "_0": "price for market in PANA decimals price is derived from the equation p = cv * dr where p = price cv = control variable dr = debt ratio dr = d / s  where d = debt s = supply of token at market creation d -= ( d * (dt / l) )  where dt = change in time l = length of program"
        }
      },
      "payoutFor(uint256,uint256)": {
        "details": "accounts for debt and control variable decay so it is up to date1e36 = PANA decimals (18) + market price decimals (18)",
        "params": {
          "_amount": "amount of quote tokens to spend",
          "_id": "ID of market"
        },
        "returns": {
          "_0": "amount of PANA to be paid in PANA decimals"
        }
      },
      "pendingFor(address,uint256)": {
        "params": {
          "_index": "the index of the note in the user's array",
          "_user": "the user that the note belongs to"
        },
        "returns": {
          "matured_": "   if the payout can be redeemed",
          "payout_": "    the payout due, in Karsha"
        }
      },
      "pullNote(address,uint256)": {
        "params": {
          "_from": "the address that approved the note transfer",
          "_index": "the index of the note to transfer (in the sender's array)"
        }
      },
      "pushNote(address,uint256)": {
        "params": {
          "_index": "index of note to approve transfer for",
          "_to": "address to approve note transfer for"
        }
      },
      "redeem(address,uint256[])": {
        "params": {
          "_indexes": "the note indexes to redeem",
          "_user": "the user to redeem for"
        },
        "returns": {
          "payout_": "    sum of payout sent, in Karsha"
        }
      },
      "redeemAll(address)": {
        "details": "if possible, query indexesFor() off-chain and input in redeem() to save gas",
        "params": {
          "_user": "user to redeem all notes for"
        },
        "returns": {
          "_0": "sum of payout sent, in Karsha"
        }
      }
    },
    "title": "Pana Bond Depository",
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {
      "close(uint256)": {
        "notice": "disable existing market"
      },
      "create(address,uint256[3],bool[4],uint256[2],uint32[2])": {
        "notice": "creates a new market type"
      },
      "currentControlVariable(uint256)": {
        "notice": "up to date control variable"
      },
      "currentDebt(uint256)": {
        "notice": "calculate debt factoring in decay"
      },
      "debtDecay(uint256)": {
        "notice": "amount of debt to decay from total debt for market ID"
      },
      "debtRatio(uint256)": {
        "notice": "calculate current ratio of debt to supply"
      },
      "deposit(uint256,uint256,uint256,address,address)": {
        "notice": "deposit quote tokens in exchange for a bond from a specified market"
      },
      "getOraclePrice(uint256)": {
        "notice": "gets token price in quote tokens from oracle"
      },
      "indexesFor(address)": {
        "notice": "all pending notes for user"
      },
      "isLive(uint256)": {
        "notice": "is a given market accepting deposits"
      },
      "liveMarkets()": {
        "notice": "returns an array of all active market IDs"
      },
      "liveMarketsFor(address)": {
        "notice": "returns an array of all active market IDs for a given quote token"
      },
      "marketPrice(uint256)": {
        "notice": "calculate current market price of quote token in base token"
      },
      "payoutFor(uint256,uint256)": {
        "notice": "payout due for amount of quote tokens"
      },
      "pendingFor(address,uint256)": {
        "notice": "calculate amount available for claim for a single note"
      },
      "pullNote(address,uint256)": {
        "notice": "transfer a note that has been approved by an address"
      },
      "pushNote(address,uint256)": {
        "notice": "approve an address to transfer a note"
      },
      "redeem(address,uint256[])": {
        "notice": "redeem notes for user"
      },
      "redeemAll(address)": {
        "notice": "redeem all redeemable markets for user"
      },
      "setPriceOracle(address)": {
        "notice": "sets price oracle for bond depository"
      },
      "setRewards(uint256,uint256)": {
        "notice": "set rewards for front end operators and DAO"
      },
      "whitelist(address)": {
        "notice": "add or remove addresses from the reward whitelist"
      }
    },
    "version": 1
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 1879,
        "contract": "contracts/bond/BondDepository.sol:PanaBondDepository",
        "label": "UNAUTHORIZED",
        "offset": 0,
        "slot": "0",
        "type": "t_string_storage"
      },
      {
        "astId": 1882,
        "contract": "contracts/bond/BondDepository.sol:PanaBondDepository",
        "label": "authority",
        "offset": 0,
        "slot": "1",
        "type": "t_contract(IPanaAuthority)6018"
      },
      {
        "astId": 8070,
        "contract": "contracts/bond/BondDepository.sol:PanaBondDepository",
        "label": "daoReward",
        "offset": 0,
        "slot": "2",
        "type": "t_uint256"
      },
      {
        "astId": 8072,
        "contract": "contracts/bond/BondDepository.sol:PanaBondDepository",
        "label": "refReward",
        "offset": 0,
        "slot": "3",
        "type": "t_uint256"
      },
      {
        "astId": 8076,
        "contract": "contracts/bond/BondDepository.sol:PanaBondDepository",
        "label": "rewards",
        "offset": 0,
        "slot": "4",
        "type": "t_mapping(t_address,t_uint256)"
      },
      {
        "astId": 8080,
        "contract": "contracts/bond/BondDepository.sol:PanaBondDepository",
        "label": "whitelisted",
        "offset": 0,
        "slot": "5",
        "type": "t_mapping(t_address,t_bool)"
      },
      {
        "astId": 3992,
        "contract": "contracts/bond/BondDepository.sol:PanaBondDepository",
        "label": "notes",
        "offset": 0,
        "slot": "6",
        "type": "t_mapping(t_address,t_array(t_struct(Note)5861_storage)dyn_storage)"
      },
      {
        "astId": 3998,
        "contract": "contracts/bond/BondDepository.sol:PanaBondDepository",
        "label": "noteTransfers",
        "offset": 0,
        "slot": "7",
        "type": "t_mapping(t_address,t_mapping(t_uint256,t_address))"
      },
      {
        "astId": 4007,
        "contract": "contracts/bond/BondDepository.sol:PanaBondDepository",
        "label": "treasury",
        "offset": 0,
        "slot": "8",
        "type": "t_contract(ITreasury)6255"
      },
      {
        "astId": 2313,
        "contract": "contracts/bond/BondDepository.sol:PanaBondDepository",
        "label": "priceOracle",
        "offset": 0,
        "slot": "9",
        "type": "t_contract(IPriceOracle)6032"
      },
      {
        "astId": 2317,
        "contract": "contracts/bond/BondDepository.sol:PanaBondDepository",
        "label": "markets",
        "offset": 0,
        "slot": "10",
        "type": "t_array(t_struct(Market)5424_storage)dyn_storage"
      },
      {
        "astId": 2321,
        "contract": "contracts/bond/BondDepository.sol:PanaBondDepository",
        "label": "terms",
        "offset": 0,
        "slot": "11",
        "type": "t_array(t_struct(Terms)5435_storage)dyn_storage"
      },
      {
        "astId": 2325,
        "contract": "contracts/bond/BondDepository.sol:PanaBondDepository",
        "label": "metadata",
        "offset": 0,
        "slot": "12",
        "type": "t_array(t_struct(Metadata)5450_storage)dyn_storage"
      },
      {
        "astId": 2330,
        "contract": "contracts/bond/BondDepository.sol:PanaBondDepository",
        "label": "adjustments",
        "offset": 0,
        "slot": "13",
        "type": "t_mapping(t_uint256,t_struct(Adjustment)5459_storage)"
      },
      {
        "astId": 2335,
        "contract": "contracts/bond/BondDepository.sol:PanaBondDepository",
        "label": "marketsForQuote",
        "offset": 0,
        "slot": "14",
        "type": "t_mapping(t_address,t_array(t_uint256)dyn_storage)"
      }
    ],
    "types": {
      "t_address": {
        "encoding": "inplace",
        "label": "address",
        "numberOfBytes": "20"
      },
      "t_array(t_struct(Market)5424_storage)dyn_storage": {
        "base": "t_struct(Market)5424_storage",
        "encoding": "dynamic_array",
        "label": "struct IBondDepository.Market[]",
        "numberOfBytes": "32"
      },
      "t_array(t_struct(Metadata)5450_storage)dyn_storage": {
        "base": "t_struct(Metadata)5450_storage",
        "encoding": "dynamic_array",
        "label": "struct IBondDepository.Metadata[]",
        "numberOfBytes": "32"
      },
      "t_array(t_struct(Note)5861_storage)dyn_storage": {
        "base": "t_struct(Note)5861_storage",
        "encoding": "dynamic_array",
        "label": "struct INoteKeeper.Note[]",
        "numberOfBytes": "32"
      },
      "t_array(t_struct(Terms)5435_storage)dyn_storage": {
        "base": "t_struct(Terms)5435_storage",
        "encoding": "dynamic_array",
        "label": "struct IBondDepository.Terms[]",
        "numberOfBytes": "32"
      },
      "t_array(t_uint256)dyn_storage": {
        "base": "t_uint256",
        "encoding": "dynamic_array",
        "label": "uint256[]",
        "numberOfBytes": "32"
      },
      "t_bool": {
        "encoding": "inplace",
        "label": "bool",
        "numberOfBytes": "1"
      },
      "t_contract(IERC20)5716": {
        "encoding": "inplace",
        "label": "contract IERC20",
        "numberOfBytes": "20"
      },
      "t_contract(IPanaAuthority)6018": {
        "encoding": "inplace",
        "label": "contract IPanaAuthority",
        "numberOfBytes": "20"
      },
      "t_contract(IPriceOracle)6032": {
        "encoding": "inplace",
        "label": "contract IPriceOracle",
        "numberOfBytes": "20"
      },
      "t_contract(ITreasury)6255": {
        "encoding": "inplace",
        "label": "contract ITreasury",
        "numberOfBytes": "20"
      },
      "t_mapping(t_address,t_array(t_struct(Note)5861_storage)dyn_storage)": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => struct INoteKeeper.Note[])",
        "numberOfBytes": "32",
        "value": "t_array(t_struct(Note)5861_storage)dyn_storage"
      },
      "t_mapping(t_address,t_array(t_uint256)dyn_storage)": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => uint256[])",
        "numberOfBytes": "32",
        "value": "t_array(t_uint256)dyn_storage"
      },
      "t_mapping(t_address,t_bool)": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => bool)",
        "numberOfBytes": "32",
        "value": "t_bool"
      },
      "t_mapping(t_address,t_mapping(t_uint256,t_address))": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => mapping(uint256 => address))",
        "numberOfBytes": "32",
        "value": "t_mapping(t_uint256,t_address)"
      },
      "t_mapping(t_address,t_uint256)": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => uint256)",
        "numberOfBytes": "32",
        "value": "t_uint256"
      },
      "t_mapping(t_uint256,t_address)": {
        "encoding": "mapping",
        "key": "t_uint256",
        "label": "mapping(uint256 => address)",
        "numberOfBytes": "32",
        "value": "t_address"
      },
      "t_mapping(t_uint256,t_struct(Adjustment)5459_storage)": {
        "encoding": "mapping",
        "key": "t_uint256",
        "label": "mapping(uint256 => struct IBondDepository.Adjustment)",
        "numberOfBytes": "32",
        "value": "t_struct(Adjustment)5459_storage"
      },
      "t_string_storage": {
        "encoding": "bytes",
        "label": "string",
        "numberOfBytes": "32"
      },
      "t_struct(Adjustment)5459_storage": {
        "encoding": "inplace",
        "label": "struct IBondDepository.Adjustment",
        "members": [
          {
            "astId": 5452,
            "contract": "contracts/bond/BondDepository.sol:PanaBondDepository",
            "label": "change",
            "offset": 0,
            "slot": "0",
            "type": "t_uint256"
          },
          {
            "astId": 5454,
            "contract": "contracts/bond/BondDepository.sol:PanaBondDepository",
            "label": "lastAdjustment",
            "offset": 0,
            "slot": "1",
            "type": "t_uint48"
          },
          {
            "astId": 5456,
            "contract": "contracts/bond/BondDepository.sol:PanaBondDepository",
            "label": "timeToAdjusted",
            "offset": 6,
            "slot": "1",
            "type": "t_uint48"
          },
          {
            "astId": 5458,
            "contract": "contracts/bond/BondDepository.sol:PanaBondDepository",
            "label": "active",
            "offset": 12,
            "slot": "1",
            "type": "t_bool"
          }
        ],
        "numberOfBytes": "64"
      },
      "t_struct(Market)5424_storage": {
        "encoding": "inplace",
        "label": "struct IBondDepository.Market",
        "members": [
          {
            "astId": 5408,
            "contract": "contracts/bond/BondDepository.sol:PanaBondDepository",
            "label": "capacity",
            "offset": 0,
            "slot": "0",
            "type": "t_uint256"
          },
          {
            "astId": 5411,
            "contract": "contracts/bond/BondDepository.sol:PanaBondDepository",
            "label": "quoteToken",
            "offset": 0,
            "slot": "1",
            "type": "t_contract(IERC20)5716"
          },
          {
            "astId": 5413,
            "contract": "contracts/bond/BondDepository.sol:PanaBondDepository",
            "label": "capacityInQuote",
            "offset": 20,
            "slot": "1",
            "type": "t_bool"
          },
          {
            "astId": 5415,
            "contract": "contracts/bond/BondDepository.sol:PanaBondDepository",
            "label": "quoteTokenIsReserve",
            "offset": 21,
            "slot": "1",
            "type": "t_bool"
          },
          {
            "astId": 5417,
            "contract": "contracts/bond/BondDepository.sol:PanaBondDepository",
            "label": "totalDebt",
            "offset": 0,
            "slot": "2",
            "type": "t_uint256"
          },
          {
            "astId": 5419,
            "contract": "contracts/bond/BondDepository.sol:PanaBondDepository",
            "label": "maxPayout",
            "offset": 0,
            "slot": "3",
            "type": "t_uint256"
          },
          {
            "astId": 5421,
            "contract": "contracts/bond/BondDepository.sol:PanaBondDepository",
            "label": "sold",
            "offset": 0,
            "slot": "4",
            "type": "t_uint256"
          },
          {
            "astId": 5423,
            "contract": "contracts/bond/BondDepository.sol:PanaBondDepository",
            "label": "purchased",
            "offset": 0,
            "slot": "5",
            "type": "t_uint256"
          }
        ],
        "numberOfBytes": "192"
      },
      "t_struct(Metadata)5450_storage": {
        "encoding": "inplace",
        "label": "struct IBondDepository.Metadata",
        "members": [
          {
            "astId": 5437,
            "contract": "contracts/bond/BondDepository.sol:PanaBondDepository",
            "label": "lastTune",
            "offset": 0,
            "slot": "0",
            "type": "t_uint48"
          },
          {
            "astId": 5439,
            "contract": "contracts/bond/BondDepository.sol:PanaBondDepository",
            "label": "lastDecay",
            "offset": 6,
            "slot": "0",
            "type": "t_uint48"
          },
          {
            "astId": 5441,
            "contract": "contracts/bond/BondDepository.sol:PanaBondDepository",
            "label": "length",
            "offset": 12,
            "slot": "0",
            "type": "t_uint48"
          },
          {
            "astId": 5443,
            "contract": "contracts/bond/BondDepository.sol:PanaBondDepository",
            "label": "depositInterval",
            "offset": 18,
            "slot": "0",
            "type": "t_uint48"
          },
          {
            "astId": 5445,
            "contract": "contracts/bond/BondDepository.sol:PanaBondDepository",
            "label": "tuneInterval",
            "offset": 24,
            "slot": "0",
            "type": "t_uint48"
          },
          {
            "astId": 5447,
            "contract": "contracts/bond/BondDepository.sol:PanaBondDepository",
            "label": "quoteDecimals",
            "offset": 30,
            "slot": "0",
            "type": "t_uint8"
          },
          {
            "astId": 5449,
            "contract": "contracts/bond/BondDepository.sol:PanaBondDepository",
            "label": "quoteIsLPToken",
            "offset": 31,
            "slot": "0",
            "type": "t_bool"
          }
        ],
        "numberOfBytes": "32"
      },
      "t_struct(Note)5861_storage": {
        "encoding": "inplace",
        "label": "struct INoteKeeper.Note",
        "members": [
          {
            "astId": 5852,
            "contract": "contracts/bond/BondDepository.sol:PanaBondDepository",
            "label": "payout",
            "offset": 0,
            "slot": "0",
            "type": "t_uint256"
          },
          {
            "astId": 5854,
            "contract": "contracts/bond/BondDepository.sol:PanaBondDepository",
            "label": "created",
            "offset": 0,
            "slot": "1",
            "type": "t_uint48"
          },
          {
            "astId": 5856,
            "contract": "contracts/bond/BondDepository.sol:PanaBondDepository",
            "label": "matured",
            "offset": 6,
            "slot": "1",
            "type": "t_uint48"
          },
          {
            "astId": 5858,
            "contract": "contracts/bond/BondDepository.sol:PanaBondDepository",
            "label": "redeemed",
            "offset": 12,
            "slot": "1",
            "type": "t_uint48"
          },
          {
            "astId": 5860,
            "contract": "contracts/bond/BondDepository.sol:PanaBondDepository",
            "label": "marketID",
            "offset": 18,
            "slot": "1",
            "type": "t_uint48"
          }
        ],
        "numberOfBytes": "64"
      },
      "t_struct(Terms)5435_storage": {
        "encoding": "inplace",
        "label": "struct IBondDepository.Terms",
        "members": [
          {
            "astId": 5426,
            "contract": "contracts/bond/BondDepository.sol:PanaBondDepository",
            "label": "fixedTerm",
            "offset": 0,
            "slot": "0",
            "type": "t_bool"
          },
          {
            "astId": 5428,
            "contract": "contracts/bond/BondDepository.sol:PanaBondDepository",
            "label": "controlVariable",
            "offset": 0,
            "slot": "1",
            "type": "t_uint256"
          },
          {
            "astId": 5430,
            "contract": "contracts/bond/BondDepository.sol:PanaBondDepository",
            "label": "vesting",
            "offset": 0,
            "slot": "2",
            "type": "t_uint48"
          },
          {
            "astId": 5432,
            "contract": "contracts/bond/BondDepository.sol:PanaBondDepository",
            "label": "conclusion",
            "offset": 6,
            "slot": "2",
            "type": "t_uint48"
          },
          {
            "astId": 5434,
            "contract": "contracts/bond/BondDepository.sol:PanaBondDepository",
            "label": "maxDebt",
            "offset": 0,
            "slot": "3",
            "type": "t_uint256"
          }
        ],
        "numberOfBytes": "128"
      },
      "t_uint256": {
        "encoding": "inplace",
        "label": "uint256",
        "numberOfBytes": "32"
      },
      "t_uint48": {
        "encoding": "inplace",
        "label": "uint48",
        "numberOfBytes": "6"
      },
      "t_uint8": {
        "encoding": "inplace",
        "label": "uint8",
        "numberOfBytes": "1"
      }
    }
  }
}